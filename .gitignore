# =====================================================
#  Rails + React + Supabase 共通 .gitignore
# =====================================================

# ----------------------------------
# OS / Editor
# ----------------------------------
.DS_Store
.idea
.vscode/*
!.vscode/extensions.json
!.vscode/settings.json
.ruby-lsp/

# ----------------------------------
# Logs (Rails + Frontend)
# ----------------------------------
**/logs
**/*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*
pnpm-debug.log*
lerna-debug.log*

# ----------------------------------
# Bundler / Ruby / Rails
# ----------------------------------
*.rbc
.byebug_history
.bundle
/vendor/bundle
.rspec

**/log/*
**/tmp/*
!**/log/.keep
!**/tmp/.keep

# PID files
**/tmp/pids/*
!**/tmp/pids/
!**/tmp/pids/.keep

# Storage (uploaded files in development)
**/storage/*
!**/storage/.keep
**/tmp/storage/*
!**/tmp/storage/
!**/tmp/storage/.keep

# Master key (Rails credentials)
**/config/master.key
**/config/credentials.yml.enc

# Ignore all environment files (.env, .env.*)
# フロントエンド・バックエンド両方の.envファイルを無視
# ただし.env.exampleファイルはサンプルとしてGitに含める
**/.env
**/.env.local
**/.env.development
**/.env.test
**/.env.production
**/.env.staging
!**/.env.example

# ----------------------------------
# Supabase local setup
# ----------------------------------
.supabase
docker-compose.override.yml

# ----------------------------------
# Node / Frontend
# ----------------------------------
**/node_modules
**/dist                    # Viteビルド出力
**/dist-ssr               # Vite SSRビルド出力
**/*.local                # ローカル環境ファイル
**/public/packs
**/public/packs-test

# Frontend editor specific
*.suo
*.ntvs*
*.njsproj
*.sln
*.sw?

# ----------------------------------
# Test / Coverage / Build artifacts
# ----------------------------------
**/coverage
**/spec/examples.txt

# ----------------------------------
# Deployment tools
# ----------------------------------
kamal.lock

# ----------------------------------
# Notes
# ----------------------------------
# 個人環境依存のファイルや設定は追加しない
# Supabase・Rails・Reactを一元的に管理するため、
# 各ディレクトリの.gitignoreは削除済み
#
# 環境変数ファイル構成:
# - backend/.env  : Rails用（DATABASE_URL等）
# - frontend/.env : React用（VITE_*環境変数）
