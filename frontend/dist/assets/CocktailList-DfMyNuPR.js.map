{"version":3,"file":"CocktailList-DfMyNuPR.js","sources":["../../src/components/ui/sheet.tsx","../../src/features/todays-pick/components/TodaysPick.tsx","../../src/features/cocktails/components/CocktailFilters.tsx","../../src/components/ui/textarea.tsx","../../src/features/cocktails/components/EditCocktailDialog.tsx","../../src/features/cocktails/components/detail/useSwipeToClose.ts","../../src/features/cocktails/components/detail/cocktailUtils.ts","../../src/features/cocktails/components/detail/CocktailDetailHeader.tsx","../../src/features/cocktails/components/detail/CocktailDetailLeftColumn.tsx","../../src/features/cocktails/components/detail/CocktailDetailRightColumn.tsx","../../src/features/cocktails/components/detail/CocktailDetailDialog.tsx","../../src/features/cocktails/components/list/SortMenu.tsx","../../src/features/cocktails/components/FavoriteButton.tsx","../../src/features/cocktails/components/CocktailCard.tsx","../../src/components/ui/pagination.tsx","../../src/features/cocktails/components/Pagination.tsx","../../src/features/cocktails/components/list/CocktailGridSection.tsx","../../src/features/cocktails/components/list/FavoritesPanel.tsx","../../src/hooks/useFavorites.ts","../../src/hooks/useDebounce.ts","../../src/features/cocktails/hooks/useCocktailSearch.ts","../../src/features/cocktails/components/list/CocktailList.tsx"],"sourcesContent":["import * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n      {children}\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","import { useEffect, useState } from 'react';\nimport { Card } from '../../../components/ui/card';\nimport { Button } from '../../../components/ui/button';\nimport { Badge } from '../../../components/ui/badge';\nimport { Skeleton } from '../../../components/ui/skeleton';\nimport { Sparkles, ArrowRight } from 'lucide-react';\nimport { ImageWithFallback } from '../../../components/common/ImageWithFallback';\nimport type { Cocktail } from '../../../lib/types';\n\n// =======================================\n// å®šæ•°ãƒ»Props\n// =======================================\n// APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¨è¡¨ç¤ºç”¨ã®è‰²ãƒãƒƒãƒ”ãƒ³ã‚°ã‚’ã“ã“ã§å®šç¾©ã—ã€JSXã®è¤‡é›‘ã•ã‚’æŠ‘ãˆã‚‹\nconst API_BASE = import.meta.env.VITE_API_BASE_URL || 'http://localhost:3000';\n\nconst strengthColors = {\n  light: 'bg-green-100 text-green-800 border-green-200',\n  medium: 'bg-yellow-100 text-yellow-800 border-yellow-200',\n  strong: 'bg-red-100 text-red-800 border-red-200',\n};\n\ninterface TodaysPickProps {\n  onViewDetails?: (cocktail: Cocktail) => void; // è©³ç´°è¡¨ç¤ºã‚’è¦ªå´ã§å‡¦ç†ã™ã‚‹ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯\n}\n\n// =======================================\n// Component\n// =======================================\n// æ—¥æ›¿ã‚ã‚Šã‚«ã‚¯ãƒ†ãƒ«ã‚’å–å¾—ã—ã¦ã‚«ãƒ¼ãƒ‰UIã§ç´¹ä»‹ã™ã‚‹ãƒˆãƒƒãƒ—ãƒã‚¤ãƒ©ã‚¤ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\nexport function TodaysPick({ onViewDetails }: TodaysPickProps) {\n  const [cocktail, setCocktail] = useState<Cocktail | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  // åˆå›è¡¨ç¤ºã§1æ—¥1å›ã®ã¿æœ€æ–°ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æ´»ç”¨ã™ã‚‹\n  useEffect(() => {\n    const fetchTodaysPick = async () => {\n      try {\n        // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚­ãƒ¼ã‚’æ—¥ä»˜å˜ä½ã§ä½œã‚Šã€åŒæ—¥ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ãƒ¡ãƒ¢ãƒªã‹ã‚‰è¿”ã™\n        const today = new Date().toISOString().split('T')[0];\n        const cacheKey = `todays_pick_${today}`;\n\n        const cached = sessionStorage.getItem(cacheKey);\n        if (cached) {\n          try {\n            setCocktail(JSON.parse(cached));\n            setLoading(false);\n            return;\n          } catch {\n            sessionStorage.removeItem(cacheKey);\n          }\n        }\n\n        const response = await fetch(\n          `${API_BASE}/api/v1/cocktails/todays_pick`,\n        );\n        if (!response.ok) {\n          throw new Error(\"Failed to fetch today's pick\");\n        }\n        const data = await response.json();\n        setCocktail(data);\n        sessionStorage.setItem(cacheKey, JSON.stringify(data));\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Unknown error');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchTodaysPick();\n  }, []);\n\n  // ã‚«ãƒ¼ãƒ‰å…¨ä½“ã‹ã‚‰è©³ç´°è¡¨ç¤ºã‚’ãƒˆãƒªã‚¬ãƒ¼ã—ã€è¦ªã®ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã«å§”è­²\n  // ã‚«ãƒ¼ãƒ‰å…¨ä½“ã‚„CTAãƒœã‚¿ãƒ³ã‹ã‚‰å‘¼ã°ã‚Œã€è¦ªãŒè©³ç´°ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’é–‹ã\n  const handleClick = () => {\n    if (cocktail && onViewDetails) {\n      onViewDetails(cocktail);\n    }\n  };\n\n  if (loading) {\n    return (\n      <Card className=\"relative overflow-hidden rounded-2xl bg-gradient-to-br from-gray-50 to-white border border-gray-200 shadow-sm\">\n        <div className=\"p-8 md:p-12\">\n          <div className=\"inline-flex items-center gap-2 bg-blue-50 text-blue-700 px-4 py-2 rounded-full w-fit mb-6\">\n            <Sparkles className=\"w-5 h-5 flex-shrink-0\" />\n            <span className=\"font-medium leading-none\">Today's Pick</span>\n          </div>\n          <div className=\"grid md:grid-cols-2 gap-8\">\n            {/* ç”»åƒã‚¹ã‚±ãƒ«ãƒˆãƒ³ï¼šã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”ã‚’å›ºå®šã—ã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚·ãƒ•ãƒˆã‚’é˜²ã */}\n            <div className=\"relative aspect-square md:aspect-[4/3]\">\n              <Skeleton className=\"absolute inset-0 rounded-2xl\" />\n            </div>\n            {/* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¹ã‚±ãƒ«ãƒˆãƒ³ï¼šã‚¿ã‚¤ãƒˆãƒ«ãƒ»ãƒãƒƒã‚¸ãƒ»CTAã®é…ç½®ã‚’å…ˆã«ç¤ºã™ */}\n            <div className=\"space-y-4\">\n              <div className=\"space-y-2\">\n                <Skeleton className=\"h-8 w-3/4\" />\n                <Skeleton className=\"h-6 w-1/2\" />\n              </div>\n              <div className=\"flex gap-2\">\n                <Skeleton className=\"h-6 w-20\" />\n                <Skeleton className=\"h-6 w-20\" />\n                <Skeleton className=\"h-6 w-20\" />\n              </div>\n              <div className=\"space-y-2\">\n                <Skeleton className=\"h-4 w-full\" />\n                <Skeleton className=\"h-4 w-full\" />\n                <Skeleton className=\"h-4 w-3/4\" />\n              </div>\n              <Skeleton className=\"h-10 w-32 rounded-full\" />\n            </div>\n          </div>\n        </div>\n      </Card>\n    );\n  }\n\n  if (error || !cocktail) {\n    return (\n      <Card className=\"relative overflow-hidden rounded-2xl bg-gradient-to-br from-gray-50 to-white border border-gray-200 shadow-sm\">\n        <div className=\"p-8 md:p-12\">\n          <div className=\"inline-flex items-center gap-2 bg-blue-50 text-blue-700 px-4 py-2 rounded-full w-fit mb-4\">\n            <Sparkles className=\"w-5 h-5 flex-shrink-0\" />\n            <span className=\"font-medium leading-none\">Today's Pick</span>\n          </div>\n          <p className=\"text-gray-600\">\n            æœ¬æ—¥ã®ãŠã™ã™ã‚ã‚«ã‚¯ãƒ†ãƒ«ã‚’å–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚\n          </p>\n        </div>\n      </Card>\n    );\n  }\n\n  return (\n    <Card\n      className=\"relative overflow-hidden rounded-2xl md:rounded-2xl bg-gradient-to-br from-gray-50 to-white border border-gray-200 shadow-sm hover:shadow-md transition-shadow cursor-pointer\"\n      onClick={handleClick}\n    >\n      <div className=\"relative flex flex-col md:grid md:grid-cols-2 gap-4 md:gap-8 p-4 md:p-8 lg:p-12\">\n        {/* Left Contentï¼šãƒ†ã‚­ã‚¹ãƒˆæƒ…å ±ã¨CTAã‚’ç¸¦ä¸¦ã³ã§æç¤ºã™ã‚‹ */}\n        <div className=\"flex flex-col justify-center space-y-3 md:space-y-6 order-1 md:order-1\">\n          <div className=\"inline-flex items-center gap-2 bg-blue-50 text-blue-700 px-3 py-1.5 md:px-4 md:py-2 rounded-full w-fit text-sm md:text-base\">\n            <Sparkles className=\"w-4 h-4 md:w-5 md:h-5 flex-shrink-0\" />\n            <span className=\"font-medium leading-none\">Today's Pick</span>\n          </div>\n\n          <div>\n            <div className=\"space-y-1 md:space-y-2 mb-2 md:mb-4\">\n              <h2\n                className={`${\n                  (cocktail.name_ja || cocktail.name).length > 10\n                    ? 'text-xl md:text-2xl lg:text-3xl'\n                    : 'text-2xl md:text-3xl lg:text-4xl'\n                } font-bold text-gray-900 leading-tight`}\n              >\n                {cocktail.name_ja || cocktail.name}\n              </h2>\n              {cocktail.name_ja && (\n                <p\n                  className={`${\n                    cocktail.name.length > 20\n                      ? 'text-xs md:text-base'\n                      : 'text-sm md:text-lg'\n                  } text-gray-500 font-semibold tracking-wider uppercase`}\n                >\n                  {cocktail.name}\n                </p>\n              )}\n            </div>\n            <p className=\"text-sm md:text-base text-gray-600 leading-relaxed line-clamp-2 md:line-clamp-3\">\n              {cocktail.description}\n            </p>\n          </div>\n\n          <div className=\"flex items-center gap-2 md:gap-3 flex-wrap\">\n            <Badge\n              className={`${strengthColors[cocktail.strength as keyof typeof strengthColors]} px-2 py-1 md:px-4 md:py-2 text-xs md:text-sm`}\n            >\n              {getStrengthLabel(cocktail.strength)}\n            </Badge>\n            <Badge\n              variant=\"outline\"\n              className=\"px-2 py-1 md:px-4 md:py-2 text-xs md:text-sm bg-white border-gray-200\"\n            >\n              {getBaseLabel(cocktail.base)}\n            </Badge>\n            <Badge\n              variant=\"outline\"\n              className=\"px-2 py-1 md:px-4 md:py-2 text-xs md:text-sm bg-white border-gray-200\"\n            >\n              {getTechniqueLabel(cocktail.technique)}\n            </Badge>\n          </div>\n\n          {/* ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç”¨ãƒœã‚¿ãƒ³ï¼šã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã‚¢ã‚¤ã‚³ãƒ³ã§ä¸»è¦ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å¼·èª¿ã™ã‚‹ */}\n          <Button\n            onClick={(e) => {\n              e.stopPropagation();\n              handleClick();\n            }}\n            className=\"hidden md:flex group w-full md:w-fit bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-4 md:px-6 lg:px-8 py-3 md:py-4 lg:py-6 shadow-lg hover:shadow-xl transition-all duration-300 text-sm md:text-base\"\n          >\n            ãƒ¬ã‚·ãƒ”ã‚’è¦‹ã‚‹\n            <ArrowRight className=\"ml-2 w-4 h-4 md:w-5 md:h-5\" />\n          </Button>\n        </div>\n\n        {/* Right Imageï¼šãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«å„ªå…ˆã®é ˜åŸŸã§ã€ã‚«ãƒ¼ãƒ‰å…¨ä½“ã®è¨´æ±‚åŠ›ã‚’é«˜ã‚ã‚‹ */}\n        <div className=\"flex items-center justify-center order-2 md:order-2\">\n          <div className=\"relative group w-full\">\n            <div className=\"relative aspect-square w-full max-w-sm mx-auto rounded-2xl md:rounded-2xl overflow-hidden shadow-lg\">\n              <ImageWithFallback\n                src={cocktail.image_url || ''}\n                alt={cocktail.name || 'No image available'}\n                className=\"w-full h-full object-cover\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* ãƒ¢ãƒã‚¤ãƒ«ç”¨ãƒœã‚¿ãƒ³ï¼šç”»é¢å¹…ã„ã£ã±ã„ã®CTAã§ã‚¿ãƒƒãƒ—æ“ä½œã‚’è£œåŠ©ã™ã‚‹ */}\n        <Button\n          onClick={(e) => {\n            e.stopPropagation();\n            handleClick();\n          }}\n          className=\"md:hidden group w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-4 py-3 shadow-lg hover:shadow-xl transition-all duration-300 text-sm rounded-2xl order-3\"\n        >\n          ãƒ¬ã‚·ãƒ”ã‚’è¦‹ã‚‹\n          <ArrowRight className=\"ml-2 w-4 h-4\" />\n        </Button>\n      </div>\n    </Card>\n  );\n}\n\n// =======================================\n// Helper functions\n// =======================================\n// ãƒ©ãƒ™ãƒ«ã®ãƒãƒƒãƒ”ãƒ³ã‚°é–¢æ•°ã‚’åˆ†é›¢ã—ã€ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã™ã£ãã‚Šä¿ã¤\nfunction getBaseLabel(base: string): string {\n  const labels: Record<string, string> = {\n    gin: 'ã‚¸ãƒ³',\n    rum: 'ãƒ©ãƒ ',\n    whisky: 'ã‚¦ã‚¤ã‚¹ã‚­ãƒ¼',\n    vodka: 'ã‚¦ã‚©ãƒƒã‚«',\n    tequila: 'ãƒ†ã‚­ãƒ¼ãƒ©',\n    beer: 'ãƒ“ãƒ¼ãƒ«',\n    wine: 'ãƒ¯ã‚¤ãƒ³',\n  };\n  return labels[base] || base;\n}\n\nfunction getStrengthLabel(strength: string): string {\n  const labels: Record<string, string> = {\n    light: 'ãƒ©ã‚¤ãƒˆ',\n    medium: 'ãƒŸãƒ‡ã‚£ã‚¢ãƒ ',\n    strong: 'ã‚¹ãƒˆãƒ­ãƒ³ã‚°',\n  };\n  return labels[strength] || strength;\n}\n\nfunction getTechniqueLabel(technique: string): string {\n  const labels: Record<string, string> = {\n    build: 'ãƒ“ãƒ«ãƒ‰',\n    stir: 'ã‚¹ãƒ†ã‚¢',\n    shake: 'ã‚·ã‚§ã‚¤ã‚¯',\n  };\n  return labels[technique] || technique;\n}\n","import { useEffect, useId, useRef, useState, type KeyboardEvent } from 'react';\nimport { Input } from '../../../components/ui/input';\nimport { Search } from 'lucide-react';\n\n// =======================================\n// Props / å®šæ•°\n// =======================================\n// propsã®å‹ã¨ãƒ™ãƒ¼ã‚¹é…’ã®å®šç¾©ã‚’äº‹å‰ã«ã¾ã¨ã‚ã€JSXå†…ã®æ¡ä»¶åˆ†å²ã‚’æ¸›ã‚‰ã™\ninterface CocktailFiltersProps {\n  searchQuery: string;\n  onSearchChange: (query: string) => void;\n  selectedBases: string[];\n  onBasesChange: (bases: string[]) => void;\n}\n\nconst bases: { value: string; label: string; icon: string }[] = [\n  { value: 'gin', label: 'ã‚¸ãƒ³', icon: 'ğŸ¸' },\n  { value: 'rum', label: 'ãƒ©ãƒ ', icon: 'ğŸ¹' },\n  { value: 'whisky', label: 'ã‚¦ã‚¤ã‚¹ã‚­ãƒ¼', icon: 'ğŸ¥ƒ' },\n  { value: 'vodka', label: 'ã‚¦ã‚©ãƒƒã‚«', icon: 'ğŸ¸' },\n  { value: 'tequila', label: 'ãƒ†ã‚­ãƒ¼ãƒ©', icon: 'ğŸ‹' },\n  { value: 'beer', label: 'ãƒ“ãƒ¼ãƒ«', icon: 'ğŸº' },\n  { value: 'wine', label: 'ãƒ¯ã‚¤ãƒ³', icon: 'ğŸ·' },\n];\n\n// =======================================\n// Component\n// =======================================\n// æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã¨ãƒ™ãƒ¼ã‚¹é…’ã‚’ã‚·ãƒ³ãƒ—ãƒ«ãªUIã§åˆ‡ã‚Šæ›¿ãˆã‚‹ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\nexport function CocktailFilters({\n  searchQuery,\n  onSearchChange,\n  selectedBases,\n  onBasesChange,\n}: CocktailFiltersProps) {\n  const [tempSearchQuery, setTempSearchQuery] = useState(searchQuery);\n  const inputRef = useRef<HTMLInputElement>(null);\n  const searchInputId = useId();\n  useEffect(() => {\n    setTempSearchQuery(searchQuery);\n  }, [searchQuery]);\n\n  // ãƒ™ãƒ¼ã‚¹é…’ã‚’å˜ä¸€é¸æŠã§ãƒˆã‚°ãƒ«ã—ã€å†ã‚¯ãƒªãƒƒã‚¯ã§è§£é™¤ã™ã‚‹\n  const handleBaseToggle = (baseValue: string) => {\n    if (selectedBases.includes(baseValue)) {\n      onBasesChange([]);\n    } else {\n      onBasesChange([baseValue]);\n    }\n  };\n\n  // å…¥åŠ›ä¸­ã®å€¤ã‚’å³æ™‚ã«åæ˜ ã—ã€è¦ªã¸ã‚‚ä¼æ’­ã•ã›ã‚‹\n  const handleSearchChange = (value: string) => {\n    setTempSearchQuery(value);\n    onSearchChange(value);\n  };\n\n  // Enterã‚­ãƒ¼æŠ¼ä¸‹æ™‚ãªã©ã«ä½™åˆ†ãªã‚¹ãƒšãƒ¼ã‚¹ã‚’é™¤ã„ã¦æ¤œç´¢ã™ã‚‹\n  const handleSearchSubmit = () => {\n    onSearchChange(tempSearchQuery.trim());\n  };\n\n  // Enterã‚­ãƒ¼ã§å³åº§ã«æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã€ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ã‚’è‚©ä»£ã‚ã‚Šã™ã‚‹\n  const handleKeyDown = (event: KeyboardEvent<HTMLInputElement>) => {\n    if (event.key === 'Enter') {\n      event.preventDefault();\n      handleSearchSubmit();\n    }\n  };\n\n  return (\n    <div className=\"space-y-8\">\n      {/* Keyword Searchï¼šå…¥åŠ›æ¬„ã¨ã‚¢ã‚¤ã‚³ãƒ³ãƒœã‚¿ãƒ³ã‚’æ¨ªä¸¦ã³ã§é…ç½®ã™ã‚‹ */}\n      <div className=\"mb-6\">\n        <label\n          className=\"block mb-2 text-sm font-medium text-gray-700\"\n          htmlFor={searchInputId}\n        >\n          ã‚«ã‚¯ãƒ†ãƒ«åãƒ»ææ–™åã§æ¤œç´¢\n        </label>\n        <div className=\"flex items-center w-full max-w-md bg-white rounded-2xl shadow-sm border border-gray-200 focus-within:ring-2 focus-within:ring-blue-500 transition\">\n          <Input\n            id={searchInputId}\n            type=\"text\"\n            placeholder=\"ãƒãƒ†ã‚£ãƒ¼ãƒ‹ã€ãƒ¢ãƒ’ãƒ¼ãƒˆ\"\n            value={tempSearchQuery}\n            onChange={(e) => handleSearchChange(e.target.value)}\n            onKeyDown={handleKeyDown}\n            className=\"flex-1 bg-transparent border-none outline-none px-4 text-gray-800 placeholder-gray-400 h-12 rounded-2xl focus-visible:ring-0 focus-visible:ring-offset-0\"\n            ref={inputRef}\n          />\n          <button\n            type=\"button\"\n            onClick={() => inputRef.current?.focus()}\n            className=\"h-12 w-12 flex items-center justify-center rounded-2xl bg-gradient-to-r from-indigo-500 to-blue-500 text-white shadow-sm hover:from-indigo-600 hover:to-blue-600 active:scale-95 transition\"\n            aria-label=\"æ¤œç´¢\"\n          >\n            <Search className=\"w-5 h-5\" />\n          </button>\n        </div>\n      </div>\n\n      {/* Base Filterï¼šå˜ä¸€é¸æŠã®ãƒˆã‚°ãƒ«ãƒªã‚¹ãƒˆã§ãƒ™ãƒ¼ã‚¹é…’ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ */}\n      <div>\n        <label className=\"block mb-3 text-sm font-medium text-gray-700\">\n          ãƒ™ãƒ¼ã‚¹ã§é¸ã¶\n        </label>\n        <div className=\"space-y-2\">\n          {bases.map((base) => {\n            const isSelected = selectedBases.includes(base.value);\n            return (\n              <button\n                key={base.value}\n                onClick={() => handleBaseToggle(base.value)}\n                className={`w-full p-3.5 rounded-2xl border transition-all ${\n                  isSelected\n                    ? 'bg-gradient-to-r from-blue-500 to-purple-600 text-white border-transparent shadow-sm'\n                    : 'bg-white hover:bg-gray-50 border-gray-200 text-gray-900'\n                }`}\n              >\n                <div className=\"flex items-center gap-3\">\n                  <span className=\"text-2xl leading-none\">{base.icon}</span>\n                  <span className=\"flex-1 text-left\">{base.label}</span>\n                </div>\n              </button>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import * as React from \"react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.TextareaHTMLAttributes<HTMLTextAreaElement>\n>(({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","import { useState, useEffect } from 'react';\nimport type { Cocktail } from '../../../lib/types';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogFooter,\n} from '../../../components/ui/dialog';\nimport { Button } from '../../../components/ui/button';\nimport { Input } from '../../../components/ui/input';\nimport { Label } from '../../../components/ui/label';\nimport { Textarea } from '../../../components/ui/textarea';\nimport { updateCocktail, type UpdateCocktailRequest } from '../../../lib/api';\n\n// =======================================\n// Props\n// =======================================\ninterface EditCocktailDialogProps {\n  cocktail: Cocktail;\n  isOpen: boolean;\n  onClose: () => void;\n  onSuccess: (updatedCocktail: Cocktail) => void;\n}\n\n// =======================================\n// Component\n// =======================================\n// ã‚«ã‚¯ãƒ†ãƒ«ã®åŸºæœ¬æƒ…å ±ã‚’ç·¨é›†ã™ã‚‹ãƒ•ã‚©ãƒ¼ãƒ ãƒ€ã‚¤ã‚¢ãƒ­ã‚°\nexport function EditCocktailDialog({\n  cocktail,\n  isOpen,\n  onClose,\n  onSuccess,\n}: EditCocktailDialogProps) {\n  const [formData, setFormData] = useState({\n    name: cocktail.name || '',\n    name_ja: cocktail.name_ja || '',\n    glass: cocktail.glass || '',\n    glass_ja: cocktail.glass_ja || '',\n    description: cocktail.description || '',\n    instructions: cocktail.instructions || '',\n    instructions_ja: cocktail.instructions_ja || '',\n    image_url_override: cocktail.image_url_override || '',\n  });\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  // ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’é–‹ã„ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã€ã¾ãŸã¯åˆ¥ã®ã‚«ã‚¯ãƒ†ãƒ«ã‚’é¸ã³ç›´ã—ãŸéš›ã«ãƒ•ã‚©ãƒ¼ãƒ ã‚’ãƒªã‚»ãƒƒãƒˆ\n  useEffect(() => {\n    if (isOpen) {\n      setFormData({\n        name: cocktail.name || '',\n        name_ja: cocktail.name_ja || '',\n        glass: cocktail.glass || '',\n        glass_ja: cocktail.glass_ja || '',\n        description: cocktail.description || '',\n        instructions: cocktail.instructions || '',\n        instructions_ja: cocktail.instructions_ja || '',\n        image_url_override: cocktail.image_url_override || '',\n      });\n      setError(null);\n    }\n  }, [isOpen, cocktail]);\n\n  // ä¿å­˜ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§APIã‚’å‘¼ã³å‡ºã—ã€æˆåŠŸæ™‚ã«è¦ªã¸é€šçŸ¥\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsSubmitting(true);\n    setError(null);\n\n    try {\n      const requestData: UpdateCocktailRequest = {\n        cocktail: {\n          name: formData.name,\n          name_ja: formData.name_ja,\n          glass: formData.glass,\n          glass_ja: formData.glass_ja,\n          description: formData.description,\n          instructions: formData.instructions,\n          instructions_ja: formData.instructions_ja,\n          image_url_override: formData.image_url_override || undefined,\n        },\n      };\n\n      const updatedCocktail = await updateCocktail(cocktail.id, requestData);\n      onSuccess(updatedCocktail);\n      onClose();\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'æ›´æ–°ã«å¤±æ•—ã—ã¾ã—ãŸ');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"sm:max-w-3xl max-h-[90vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle className=\"text-2xl font-bold\">\n            ã‚«ã‚¯ãƒ†ãƒ«æƒ…å ±ã‚’ç·¨é›†\n          </DialogTitle>\n        </DialogHeader>\n\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          {error && (\n            <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\">\n              {error}\n            </div>\n          )}\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"name\">åå‰ï¼ˆè‹±èªï¼‰</Label>\n              <Input\n                id=\"name\"\n                value={formData.name}\n                onChange={(e) =>\n                  setFormData({ ...formData, name: e.target.value })\n                }\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"name_ja\">åå‰ï¼ˆæ—¥æœ¬èªï¼‰</Label>\n              <Input\n                id=\"name_ja\"\n                value={formData.name_ja}\n                onChange={(e) =>\n                  setFormData({ ...formData, name_ja: e.target.value })\n                }\n              />\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"glass\">ã‚°ãƒ©ã‚¹ï¼ˆè‹±èªï¼‰</Label>\n              <Input\n                id=\"glass\"\n                value={formData.glass}\n                onChange={(e) =>\n                  setFormData({ ...formData, glass: e.target.value })\n                }\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"glass_ja\">ã‚°ãƒ©ã‚¹ï¼ˆæ—¥æœ¬èªï¼‰</Label>\n              <Input\n                id=\"glass_ja\"\n                value={formData.glass_ja}\n                onChange={(e) =>\n                  setFormData({ ...formData, glass_ja: e.target.value })\n                }\n              />\n            </div>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"image_url_override\">ç”»åƒURLï¼ˆæ‰‹å‹•è¨­å®šï¼‰</Label>\n            <Input\n              id=\"image_url_override\"\n              type=\"url\"\n              placeholder=\"https://example.com/image.jpg\"\n              value={formData.image_url_override}\n              onChange={(e) =>\n                setFormData({ ...formData, image_url_override: e.target.value })\n              }\n            />\n            <p className=\"text-sm text-gray-500\">\n              ç”»åƒURLã‚’æŒ‡å®šã™ã‚‹ã¨ã€è‡ªå‹•å–å¾—ã—ãŸç”»åƒã‚ˆã‚Šå„ªå…ˆã—ã¦è¡¨ç¤ºã•ã‚Œã¾ã™\n            </p>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"description\">èª¬æ˜æ–‡</Label>\n            <Textarea\n              id=\"description\"\n              rows={3}\n              placeholder=\"ã‚«ã‚¯ãƒ†ãƒ«ã®ç‰¹å¾´ã‚„é­…åŠ›ã‚’èª¬æ˜ã—ã¦ãã ã•ã„\"\n              value={formData.description}\n              onChange={(e: React.ChangeEvent<HTMLTextAreaElement>) =>\n                setFormData({ ...formData, description: e.target.value })\n              }\n            />\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"instructions\">ä½œã‚Šæ–¹ï¼ˆè‹±èªï¼‰</Label>\n            <Textarea\n              id=\"instructions\"\n              rows={4}\n              value={formData.instructions}\n              onChange={(e: React.ChangeEvent<HTMLTextAreaElement>) =>\n                setFormData({ ...formData, instructions: e.target.value })\n              }\n            />\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"instructions_ja\">ä½œã‚Šæ–¹ï¼ˆæ—¥æœ¬èªï¼‰</Label>\n            <Textarea\n              id=\"instructions_ja\"\n              rows={4}\n              value={formData.instructions_ja}\n              onChange={(e: React.ChangeEvent<HTMLTextAreaElement>) =>\n                setFormData({ ...formData, instructions_ja: e.target.value })\n              }\n            />\n          </div>\n\n          <DialogFooter>\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={onClose}\n              disabled={isSubmitting}\n            >\n              ã‚­ãƒ£ãƒ³ã‚»ãƒ«\n            </Button>\n            <Button type=\"submit\" disabled={isSubmitting}>\n              {isSubmitting ? 'ä¿å­˜ä¸­...' : 'ä¿å­˜'}\n            </Button>\n          </DialogFooter>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import { useCallback, useEffect, useRef, useState } from 'react';\nimport type { TouchEvent } from 'react';\n\nconst MAX_DRAG_DISTANCE = 360;\nconst CLOSE_THRESHOLD = 150;\n\ninterface SwipeToCloseOptions {\n  onClose: () => void;\n}\n\n// =======================================\n// Hook\n// =======================================\n// ãƒ¢ãƒã‚¤ãƒ«å‘ã‘ã«ä¸‹æ–¹å‘ã‚¹ãƒ¯ã‚¤ãƒ—ã§ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹å‹•ä½œã‚’æä¾›ã™ã‚‹\nexport const useSwipeToClose = ({ onClose }: SwipeToCloseOptions) => {\n  const scrollRef = useRef<HTMLDivElement>(null);\n  const dialogRef = useRef<HTMLDivElement>(null);\n  const touchStartRef = useRef<number | null>(null);\n  const lastTouchRef = useRef<number | null>(null);\n  const animationFrameRef = useRef<number | null>(null);\n  const translateYRef = useRef(0);\n  const [translateY, setTranslateY] = useState(0);\n  const [isDragging, setIsDragging] = useState(false);\n\n  // ç”Ÿã®ãƒ‰ãƒ©ãƒƒã‚°è·é›¢ã‚’ã‚¤ãƒ¼ã‚¸ãƒ³ã‚°ã—ã¦è‡ªç„¶ãªç§»å‹•é‡ã«å¤‰æ›\n  const getEasedDistance = useCallback((distance: number) => {\n    if (distance <= 0) return 0;\n    const clamped = Math.min(distance, MAX_DRAG_DISTANCE);\n    const progress = clamped / MAX_DRAG_DISTANCE;\n    return (1 - Math.pow(1 - progress, 2.2)) * MAX_DRAG_DISTANCE;\n  }, []);\n\n  // requestAnimationFrameã§translateæ›´æ–°ã‚’ã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°\n  const scheduleTranslate = useCallback((value: number) => {\n    translateYRef.current = value;\n    if (typeof window === 'undefined') {\n      setTranslateY(value);\n      return;\n    }\n    if (animationFrameRef.current) return;\n    animationFrameRef.current = window.requestAnimationFrame(() => {\n      setTranslateY(translateYRef.current);\n      animationFrameRef.current = null;\n    });\n  }, []);\n\n  // ã‚¢ãƒ³ãƒã‚¦ãƒ³ãƒˆæ™‚ã«ä½™ã£ã¦ã„ã‚‹animation frameã‚’è§£æ”¾\n  useEffect(() => {\n    return () => {\n      if (animationFrameRef.current && typeof window !== 'undefined') {\n        window.cancelAnimationFrame(animationFrameRef.current);\n      }\n    };\n  }, []);\n\n  // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä½ç½®ãŒæœ€ä¸Šéƒ¨ã®ã¨ãã®ã¿ã‚¹ãƒ¯ã‚¤ãƒ—ã‚’é–‹å§‹\n  const handleTouchStart = useCallback((e: TouchEvent<HTMLDivElement>) => {\n    if (!scrollRef.current) return;\n    if (scrollRef.current.scrollTop === 0) {\n      lastTouchRef.current = null;\n      touchStartRef.current = e.targetTouches[0].clientY;\n      setIsDragging(true);\n    }\n  }, []);\n\n  // æŒ‡ã®ç§»å‹•é‡ã«å¿œã˜ã¦ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’è¿½å¾“ã•ã›ã‚‹\n  const handleTouchMove = useCallback(\n    (e: TouchEvent<HTMLDivElement>) => {\n      if (touchStartRef.current === null) return;\n      const currentTouch = e.targetTouches[0].clientY;\n      lastTouchRef.current = currentTouch;\n      const distance = currentTouch - (touchStartRef.current ?? 0);\n      if (distance > 0) {\n        if (distance > 6) {\n          e.preventDefault();\n        }\n        scheduleTranslate(getEasedDistance(distance));\n      } else {\n        scheduleTranslate(0);\n      }\n    },\n    [getEasedDistance, scheduleTranslate],\n  );\n\n  // ã‚¸ã‚§ã‚¹ãƒãƒ£ãƒ¼çµ‚äº†æ™‚ã«stateã‚’åˆæœŸåŒ–\n  const resetGesture = useCallback(() => {\n    setIsDragging(false);\n    touchStartRef.current = null;\n    lastTouchRef.current = null;\n  }, []);\n\n  // è¦å®šè·é›¢ä»¥ä¸Šãƒ‰ãƒ©ãƒƒã‚°ã•ã‚ŒãŸã‚‰ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹\n  const handleTouchEnd = useCallback(() => {\n    const start = touchStartRef.current;\n    const end = lastTouchRef.current;\n    resetGesture();\n    if (start !== null && end !== null) {\n      const distance = end - start;\n      if (distance > CLOSE_THRESHOLD) {\n        onClose();\n        scheduleTranslate(0);\n        return;\n      }\n    }\n    scheduleTranslate(0);\n  }, [onClose, resetGesture, scheduleTranslate]);\n\n  return {\n    scrollRef,\n    dialogRef,\n    translateY,\n    isDragging,\n    handleTouchStart,\n    handleTouchMove,\n    handleTouchEnd,\n    handleTouchCancel: handleTouchEnd,\n  };\n};\n","import type { Cocktail } from '../../../../lib/types';\n\n// =======================================\n// è¡¨ç¤ºãƒ©ãƒ™ãƒ«\n// =======================================\nexport const BASE_LABELS: Record<string, string> = {\n  gin: 'ã‚¸ãƒ³',\n  rum: 'ãƒ©ãƒ ',\n  whisky: 'ã‚¦ã‚¤ã‚¹ã‚­ãƒ¼',\n  vodka: 'ã‚¦ã‚©ãƒƒã‚«',\n  tequila: 'ãƒ†ã‚­ãƒ¼ãƒ©',\n  beer: 'ãƒ“ãƒ¼ãƒ«',\n  wine: 'ãƒ¯ã‚¤ãƒ³',\n};\n\nexport const STRENGTH_LABELS: Record<string, string> = {\n  light: 'ãƒ©ã‚¤ãƒˆ',\n  medium: 'ãƒŸãƒ‡ã‚£ã‚¢ãƒ ',\n  strong: 'ã‚¹ãƒˆãƒ­ãƒ³ã‚°',\n};\n\nexport const TECHNIQUE_LABELS: Record<string, string> = {\n  build: 'ãƒ“ãƒ«ãƒ‰',\n  stir: 'ã‚¹ãƒ†ã‚¢',\n  shake: 'ã‚·ã‚§ã‚¤ã‚¯',\n};\n\nexport const strengthColors: Record<string, string> = {\n  light: 'bg-green-100 text-green-800 border-green-200',\n  medium: 'bg-yellow-100 text-yellow-800 border-yellow-200',\n  strong: 'bg-red-100 text-red-800 border-red-200',\n};\n\n// =======================================\n// èª¬æ˜æ–‡ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n// =======================================\nconst BASE_STORIES: Record<string, string> = {\n  gin: 'ãƒãƒ¼ãƒãƒ«ãªã‚¸ãƒ³ã®é¦™ã‚ŠãŒæ¾„ã‚“ã ä½™éŸ»ã‚’ç”Ÿã¿ã€ã‚·ãƒˆãƒ©ã‚¹ã®æ¸…æ¶¼æ„ŸãŒå¿ƒåœ°ã‚ˆãç¶šãã¾ã™ã€‚',\n  rum: 'ãƒˆãƒ­ãƒ”ã‚«ãƒ«ãªãƒ©ãƒ ã®ç”˜ã¿ã¨ã‚¹ãƒ‘ã‚¤ã‚¹ãŒé‡ãªã‚Šã€ã‚„ã‚ã‚‰ã‹ãªå—å›½ã®ç©ºæ°—ã‚’æ„Ÿã˜ã•ã›ã¾ã™ã€‚',\n  whisky:\n    'ç†Ÿæˆã—ãŸã‚¦ã‚¤ã‚¹ã‚­ãƒ¼ã®åšã¿ãŒã—ã£ã¨ã‚ŠåºƒãŒã‚Šã€æ¨½é¦™ãŒç©ã‚„ã‹ãªä½™è£•ã‚’ä¸ãˆã¾ã™ã€‚',\n  vodka:\n    'ãƒ”ãƒ¥ã‚¢ãªã‚¦ã‚©ãƒƒã‚«ã®é€æ˜æ„ŸãŒç´ æã®å‘³ã‚’å¼•ãç«‹ã¦ã€ã™ã£ãã‚Šã¨ã—ãŸå¾Œå‘³ã«ä»•ä¸ŠãŒã‚Šã¾ã™ã€‚',\n  tequila:\n    'ã‚¢ã‚¬ãƒ™ç”±æ¥ã®åŠ›å¼·ã„é¦™ã‚Šã«ãƒ©ã‚¤ãƒ ã®çˆ½å¿«ã•ãŒé‡ãªã‚Šã€é™½æ°—ã§é®®çƒˆãªå°è±¡ã‚’æ®‹ã—ã¾ã™ã€‚',\n  beer: 'éº¦èŠ½ã®æ—¨å‘³ã¨è»½ã‚„ã‹ãªæ³¡ãŒåŒæ™‚ã«åºƒãŒã‚Šã€é£Ÿäº‹ã¨ã‚‚åˆã‚ã›ã‚„ã™ã„æŸ”ã‚‰ã‹ã•ãŒã‚ã‚Šã¾ã™ã€‚',\n  wine: 'æœå®Ÿå‘³è±Šã‹ãªãƒ¯ã‚¤ãƒ³ã®ã‚¢ãƒ­ãƒãŒãµãã‚‰ã¿ã€é…¸å‘³ã¨æ¸‹ã¿ã®ãƒãƒ©ãƒ³ã‚¹ãŒä¸Šå“ã«æ•´ã„ã¾ã™ã€‚',\n};\n\nconst STRENGTH_STORIES: Record<string, string> = {\n  light:\n    'è»½ã‚„ã‹ãªé£²ã¿å£ã§æœ€åˆã®ä¸€æ¯ã«ã‚‚é¸ã³ã‚„ã™ãã€ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã—ãŸã„æ™‚ã«ã´ã£ãŸã‚Šã§ã™ã€‚',\n  medium:\n    'ç”˜å‘³ã¨ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«ã®è¼ªéƒ­ãŒã¡ã‚‡ã†ã©è‰¯ãã€ã‚†ã£ãã‚Šå‘³ãŒã»ã©ã‘ã¦ã„ãã¾ã™ã€‚',\n  strong:\n    'ã—ã£ã‹ã‚Šã¨ã—ãŸã‚¢ãƒ«ã‚³ãƒ¼ãƒ«ã®åšã¿ãŒã‚ã‚Šã€è½ã¡ç€ã„ãŸå¤œã«å¯„ã‚Šæ·»ã†å­˜åœ¨æ„ŸãŒã‚ã‚Šã¾ã™ã€‚',\n};\n\nconst TECHNIQUE_STORIES: Record<string, string> = {\n  build:\n    'ã‚°ãƒ©ã‚¹ã®ä¸­ã§ææ–™ã‚’é‡ã­ã‚‹ã“ã¨ã§ã€é¦™ã‚ŠãŒç©ã‚„ã‹ã«ç«‹ã¡ä¸ŠãŒã‚Šç´ æã®è¼ªéƒ­ã‚’æ„Ÿã˜ã‚‰ã‚Œã¾ã™ã€‚',\n  stir: 'æ°·ã§ã—ã£ã‹ã‚Šã‚¹ãƒ†ã‚¢ã™ã‚‹ã“ã¨ã§ã€é€æ˜æ„Ÿã®ã‚ã‚‹å£å½“ãŸã‚Šã¨æ¾„ã‚“ã å‘³ã‚ã„ã«ä»•ä¸ŠãŒã‚Šã¾ã™ã€‚',\n  shake:\n    'ã‚·ã‚§ã‚¤ã‚«ãƒ¼ã«ç©ºæ°—ã‚’å«ã¾ã›ãªãŒã‚‰æŒ¯ã‚‹ã“ã¨ã§ã€ãµãã‚ˆã‹ã§å†·ãŸã„ä¸€ä½“æ„ŸãŒç”Ÿã¾ã‚Œã¾ã™ã€‚',\n};\n\nexport const getProvidedText = (value?: string | null) => {\n  const trimmed = value?.trim();\n  return trimmed?.length ? trimmed : null;\n};\n\n// æ—¢å­˜ã®èª¬æ˜ãŒãªã„å ´åˆã«ã€ãƒ™ãƒ¼ã‚¹ãƒ»å¼·åº¦ãƒ»æŠ€æ³•ã®ãƒ†ãƒ³ãƒ—ãƒ¬ã‹ã‚‰æ–‡ç« ã‚’ç”Ÿæˆ\nexport const buildDefaultDescription = (cocktail: Cocktail | null) => {\n  if (!cocktail) return null;\n  const baseStory =\n    BASE_STORIES[cocktail.base] ??\n    'ç´ æã®æŒã¤é¦™ã‚Šã‚’ç´ ç›´ã«å¼•ãå‡ºã—ã€å£ã„ã£ã±ã„ã«å„ªé›…ãªä½™éŸ»ãŒåºƒãŒã‚Šã¾ã™ã€‚';\n  const strengthStory =\n    STRENGTH_STORIES[cocktail.strength] ??\n    'é£²ã¿é€²ã‚ã‚‹ã»ã©ã«èª¿å’ŒãŒå¢—ã—ã€ä½™ç™½ã®ã‚ã‚‹å‘³ã‚ã„ã«ãªã‚Šã¾ã™ã€‚';\n  const techniqueStory =\n    TECHNIQUE_STORIES[cocktail.technique] ??\n    'ä¸å¯§ãªä»•ä¸Šã’ã«ã‚ˆã£ã¦ã€é¦™ã‚Šã¨æ¸©åº¦ãŒæœ€é©ãªãƒãƒ©ãƒ³ã‚¹ã«æ•´ã„ã¾ã™ã€‚';\n  return [\n    baseStory,\n    strengthStory,\n    techniqueStory,\n    'é™ã‹ãªæ™‚é–“ã«ã‚‚ã€ç‰¹åˆ¥ãªã²ã¨ã¨ãã‚’æ¼”å‡ºã—ãŸã„æ™‚ã«ã‚‚å¯„ã‚Šæ·»ã£ã¦ãã‚Œã‚‹ä¸€æ¯ã§ã™ã€‚',\n  ].join(' ');\n};\n\n// ä½œã‚Šæ–¹ãƒ†ã‚­ã‚¹ãƒˆã‚‚åŒæ§˜ã«ã€æ‰‹å…ƒã®æƒ…å ±ã‹ã‚‰æ¨æ¸¬ã§åŸ‹ã‚ã‚‹\nexport const buildDefaultInstructions = (cocktail: Cocktail | null) => {\n  if (!cocktail) return '';\n  const glassLabel = cocktail.glass_ja || cocktail.glass || 'ã‚°ãƒ©ã‚¹';\n  const baseLabel = BASE_LABELS[cocktail.base] || 'ã‚¹ãƒ”ãƒªãƒƒãƒ„';\n\n  const techniqueStep = (() => {\n    switch (cocktail.technique) {\n      case 'stir':\n        return `ãƒŸã‚­ã‚·ãƒ³ã‚°ã‚°ãƒ©ã‚¹ã«æ°·ã‚’å…¥ã‚Œã€${baseLabel}ã¨ç”˜å‘³ã€ãƒ“ã‚¿ãƒ¼ã‚ºã‚’åŠ ãˆã¦é™ã‹ã«ã‚¹ãƒ†ã‚¢ã—é¦™ã‚Šã¨æ¸©åº¦ã‚’æ•´ãˆã¾ã™ã€‚`;\n      case 'shake':\n        return `ã‚·ã‚§ã‚¤ã‚«ãƒ¼ã«${baseLabel}ã¨æœæ±ã€ã‚·ãƒ­ãƒƒãƒ—ã‚’å…¥ã‚Œã¦ã—ã£ã‹ã‚Šå†·ãˆã‚‹ã¾ã§æŒ¯ã‚Šã€ç©ºæ°—ã‚’å«ã¾ã›ã¦æ»‘ã‚‰ã‹ã«ä»•ä¸Šã’ã¾ã™ã€‚`;\n      default:\n        return `${glassLabel}ã«æ°·ã‚’æº€ãŸã—ã€${baseLabel}ã¨å‰¯ææ–™ã‚’é †ã«æ³¨ã„ã§è»½ãã‚¹ãƒ†ã‚¢ã—ãªãŒã‚‰å…¨ä½“ã‚’é¦´æŸ“ã¾ã›ã¾ã™ã€‚`;\n    }\n  })();\n\n  return `${techniqueStep} é¦™ã‚ŠãŒã¾ã¨ã¾ã£ãŸã‚‰${glassLabel}ã«æ³¨ãã€ãŠå¥½ã¿ã§æŸ‘æ©˜ã®ãƒ”ãƒ¼ãƒ«ã‚„ãƒãƒ¼ãƒ–ã‚’é£¾ã£ã¦å®Œæˆã§ã™ã€‚`;\n};\n","import { DialogHeader, DialogTitle } from '../../../../components/ui/dialog';\nimport { Badge } from '../../../../components/ui/badge';\nimport { Button } from '../../../../components/ui/button';\nimport { Edit, Hammer, Heart, Wine, X } from 'lucide-react';\nimport type { Cocktail } from '../../../../lib/types';\nimport {\n  BASE_LABELS,\n  STRENGTH_LABELS,\n  TECHNIQUE_LABELS,\n  strengthColors,\n} from './cocktailUtils';\n\n// =======================================\n// Props\n// =======================================\n// ã‚¿ã‚¤ãƒˆãƒ«ã‚„ãƒœã‚¿ãƒ³æ“ä½œã«å¿…è¦ãªæƒ…å ±ã‚’å®šç¾©\ninterface CocktailDetailHeaderProps {\n  cocktail: Cocktail;\n  noteText: string | null;\n  primaryName?: string | null;\n  secondaryName?: string | null;\n  isFavorite?: boolean;\n  isAdmin: boolean;\n  onClose: () => void;\n  onEditClick: () => void;\n  onToggleFavorite?: (cocktailId: number) => void;\n}\n\n// =======================================\n// Component\n// =======================================\n// ãƒ¢ãƒ¼ãƒ€ãƒ«ä¸Šéƒ¨ã«åç§°ãƒ»èª¬æ˜ãƒ»ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ»æ“ä½œãƒœã‚¿ãƒ³ã‚’é…ç½®ã™ã‚‹\nexport function CocktailDetailHeader({\n  cocktail,\n  noteText,\n  primaryName,\n  secondaryName,\n  isFavorite,\n  isAdmin,\n  onClose,\n  onEditClick,\n  onToggleFavorite,\n}: CocktailDetailHeaderProps) {\n  return (\n    <DialogHeader className=\"bg-white z-10 px-2 sm:px-5 md:px-8 py-3 sm:py-5 border-b border-gray-100 text-left\">\n      <div className=\"relative w-full\">\n        <div className=\"flex flex-col gap-4 lg:flex-row lg:justify-between pr-2 sm:pr-4 lg:pr-12\">\n          <div className=\"space-y-2.5 sm:space-y-3\">\n            {secondaryName && (\n              <p className=\"pl-px text-sm uppercase tracking-[0.3em] text-gray-400 font-semibold\">\n                {secondaryName}\n              </p>\n            )}\n            <DialogTitle className=\"text-2xl sm:text-3xl lg:text-[34px] font-semibold text-gray-900 leading-snug\">\n              {primaryName}\n            </DialogTitle>\n            {noteText && (\n              <p className=\"text-sm sm:text-base lg:text-base text-gray-600 leading-relaxed whitespace-pre-wrap\">\n                {noteText}\n              </p>\n            )}\n            <div className=\"flex flex-wrap items-center gap-2.5 pt-1\">\n              {/* åº¦æ•°ãƒãƒƒã‚¸ï¼šè‰²åˆ†ã‘ã§å¼·ã•ã‚’ä¼ãˆã‚‹ */}\n              <Badge\n                className={`${\n                  strengthColors[\n                    cocktail.strength as keyof typeof strengthColors\n                  ] ?? ''\n                } px-3.5 py-1 text-[13px] sm:text-sm rounded-full tracking-tight border`}\n              >\n                {STRENGTH_LABELS[cocktail.strength]}\n              </Badge>\n              {/* ãƒ™ãƒ¼ã‚¹é…’ãƒãƒƒã‚¸ï¼šã‚¢ã‚¤ã‚³ãƒ³ä»˜ãã§è¦–èªæ€§ã‚’ä¸Šã’ã‚‹ */}\n              <Badge\n                variant=\"outline\"\n                className=\"flex items-center gap-1.5 px-3.5 py-1 text-[13px] sm:text-sm rounded-full font-medium border-gray-200 bg-white shadow-sm\"\n              >\n                <Wine className=\"w-3.5 h-3.5\" />\n                {BASE_LABELS[cocktail.base]}\n              </Badge>\n              {/* æŠ€æ³•ãƒãƒƒã‚¸ï¼šãƒãƒ³ãƒãƒ¼ã‚¢ã‚¤ã‚³ãƒ³ã§æ‰‹é †ã®ç¨®é¡ã‚’ç¤ºã™ */}\n              <Badge\n                variant=\"outline\"\n                className=\"flex items-center gap-1.5 px-3.5 py-1 text-[13px] sm:text-sm rounded-full font-medium border-gray-200 bg-white shadow-sm\"\n              >\n                <Hammer className=\"w-3.5 h-3.5\" />\n                {TECHNIQUE_LABELS[cocktail.technique]}\n              </Badge>\n            </div>\n          </div>\n        </div>\n        <div className=\"absolute top-1.5 sm:top-2 right-0 flex gap-1.5 sm:gap-2\">\n          {/* ç®¡ç†è€…ã®ã¿ç·¨é›†ãƒœã‚¿ãƒ³ã‚’è¡¨ç¤º */}\n          {isAdmin && (\n            <Button\n              variant=\"outline\"\n              size=\"icon\"\n              onClick={onEditClick}\n              className=\"h-9 w-9 sm:h-10 sm:w-10 rounded-full border-gray-200 text-gray-600 hover:bg-gray-50\"\n            >\n              <Edit className=\"w-4 h-4 sm:w-5 sm:h-5\" />\n            </Button>\n          )}\n          {/* ãŠæ°—ã«å…¥ã‚Šãƒœã‚¿ãƒ³ï¼šãƒ­ã‚°ã‚¤ãƒ³æ™‚ã®ã¿è¡¨ç¤º */}\n          {onToggleFavorite && (\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              onClick={() => onToggleFavorite(cocktail.id)}\n              className=\"h-9 w-9 sm:h-10 sm:w-10 rounded-full text-gray-400 hover:text-red-500\"\n            >\n              <Heart\n                className={`w-5 h-5 sm:w-6 sm:h-6 transition-colors ${\n                  isFavorite ? 'fill-red-500 text-red-500' : ''\n                }`}\n              />\n            </Button>\n          )}\n          {/* ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚¯ãƒ­ãƒ¼ã‚º */}\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={onClose}\n            className=\"h-9 w-9 sm:h-10 sm:w-10 rounded-full text-gray-500 hover:bg-gray-50\"\n          >\n            <X className=\"w-5 h-5 sm:w-6 sm:h-6\" />\n          </Button>\n        </div>\n      </div>\n    </DialogHeader>\n  );\n}\n","import { GlassWater, Hammer, Droplet, Wine } from 'lucide-react';\nimport type { Cocktail } from '../../../../lib/types';\nimport { ImageWithFallback } from '../../../../components/common/ImageWithFallback';\nimport { cn } from '../../../../lib/utils';\nimport {\n  BASE_LABELS,\n  STRENGTH_LABELS,\n  TECHNIQUE_LABELS,\n} from './cocktailUtils';\n\n// =======================================\n// Props\n// =======================================\ninterface CocktailDetailLeftColumnProps {\n  cocktail: Cocktail;\n  className?: string;\n}\n\n// =======================================\n// Component\n// =======================================\n// ç”»åƒã¨åŸºæœ¬å±æ€§ã‚«ãƒ¼ãƒ‰ã‚’ç¸¦ä¸¦ã³ã§è¡¨ç¤ºã™ã‚‹ãƒ¬ãƒ•ãƒˆã‚«ãƒ©ãƒ \nexport function CocktailDetailLeftColumn({\n  cocktail,\n  className,\n}: CocktailDetailLeftColumnProps) {\n  return (\n    <div\n      className={cn(\n        'lg:w-1/2 flex flex-col space-y-5 px-2 sm:px-5 md:px-8 py-4 bg-white lg:sticky lg:top-0 lg:max-h-[calc(100dvh-12rem)]',\n        className,\n      )}\n    >\n      {/* ãƒ¡ã‚¤ãƒ³ç”»åƒï¼šã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”ã‚’åˆ‡ã‚Šæ›¿ãˆã¤ã¤ã‚·ãƒ£ãƒ‰ã‚¦ã§å¼·èª¿ */}\n      <div className=\"relative w-full aspect-[4/3] sm:aspect-[5/4] lg:aspect-[3/2] rounded-2xl overflow-hidden border border-gray-100 shadow-[0_15px_35px_rgba(15,23,42,0.12)]\">\n        <ImageWithFallback\n          src={cocktail.image_url || ''}\n          alt={cocktail.name}\n          className=\"object-cover w-full h-full\"\n        />\n      </div>\n\n      {/* å±æ€§ã‚«ãƒ¼ãƒ‰ï¼šãƒ™ãƒ¼ã‚¹/æŠ€æ³•/ã‚°ãƒ©ã‚¹/å¼·ã•ã‚’2åˆ—ã‚°ãƒªãƒƒãƒ‰ã§ä¸¦ã¹ã‚‹ */}\n      <div className=\"grid grid-cols-2 gap-3.5\">\n        {[\n          {\n            icon: (\n              <div className=\"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center\">\n                <Wine className=\"w-5 h-5 text-blue-600\" />\n              </div>\n            ),\n            label: 'ãƒ™ãƒ¼ã‚¹',\n            value: BASE_LABELS[cocktail.base],\n          },\n          {\n            icon: (\n              <div className=\"w-10 h-10 rounded-full bg-orange-100 flex items-center justify-center\">\n                <Hammer className=\"w-5 h-5 text-orange-600\" />\n              </div>\n            ),\n            label: 'æŠ€æ³•',\n            value: TECHNIQUE_LABELS[cocktail.technique],\n          },\n          {\n            icon: (\n              <div className=\"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center\">\n                <GlassWater className=\"w-5 h-5 text-indigo-600\" />\n              </div>\n            ),\n            label: 'ã‚°ãƒ©ã‚¹',\n            value: cocktail.glass_ja || cocktail.glass,\n          },\n          {\n            icon: (\n              <div className=\"w-10 h-10 rounded-full bg-rose-100 flex items-center justify-center\">\n                <Droplet className=\"w-5 h-5 text-rose-600\" />\n              </div>\n            ),\n            label: 'ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«åº¦æ•°',\n            value: STRENGTH_LABELS[cocktail.strength],\n          },\n        ].map((item) => (\n          <div\n            key={item.label}\n            className=\"flex items-center gap-3 p-4 rounded-2xl bg-white border border-gray-100 shadow-sm hover:shadow-md transition-all\"\n          >\n            {item.icon}\n            <div>\n              <p className=\"text-[11px] uppercase tracking-wide text-gray-500\">\n                {item.label}\n              </p>\n              <p className=\"text-sm text-gray-900 font-medium\">{item.value}</p>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n","import type { Cocktail } from '../../../../lib/types';\nimport { cn } from '../../../../lib/utils';\n\n// =======================================\n// Props\n// =======================================\ninterface CocktailDetailRightColumnProps {\n  cocktail: Cocktail;\n  instructionsText: string;\n  className?: string;\n}\n\n// =======================================\n// Component\n// =======================================\n// ææ–™ã¨ä½œã‚Šæ–¹ã‚’ã‚«ãƒ¼ãƒ‰å½¢å¼ã§è¡¨ç¤ºã™ã‚‹å³ã‚«ãƒ©ãƒ \nexport function CocktailDetailRightColumn({\n  cocktail,\n  instructionsText,\n  className,\n}: CocktailDetailRightColumnProps) {\n  return (\n    <div\n      className={cn(\n        'flex-1 overflow-y-visible lg:overflow-y-auto px-2 sm:px-5 md:px-8 lg:px-4 py-4 sm:py-6 lg:pt-4 lg:pb-6 mb-5 lg:max-h-[calc(100dvh-12rem)]',\n        className,\n      )}\n    >\n      <div className=\"space-y-6 sm:space-y-7\">\n        {/* ææ–™ã‚«ãƒ¼ãƒ‰ï¼šåŒºåˆ‡ã‚Šç·šã§1è¡Œãšã¤è¦‹ã‚„ã™ãã™ã‚‹ */}\n        <div className=\"rounded-2xl border border-gray-100 bg-white px-4 py-4 sm:px-5 sm:py-5 shadow-[0_10px_30px_rgba(15,23,42,0.05)] hover:shadow-md transition-all\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-1 h-5 sm:h-6 bg-blue-500 rounded-full\" />\n              <h3 className=\"text-base font-semibold text-gray-900\">ææ–™</h3>\n            </div>\n            <p className=\"text-[10px] uppercase tracking-[0.5em] text-gray-300\">\n              INGREDIENTS\n            </p>\n          </div>\n          <div className=\"mt-4 divide-y divide-gray-100\">\n            {cocktail.ingredients?.map((ingredient, index) => (\n              <div\n                key={`${ingredient.name}-${index}`}\n                className=\"flex items-center justify-between py-3 first:pt-0 last:pb-0\"\n              >\n                <span className=\"text-sm text-gray-900 leading-relaxed\">\n                  {ingredient.name}\n                </span>\n                <span className=\"text-sm text-gray-600 tabular-nums min-w-[72px] text-right\">\n                  {ingredient.amount}\n                </span>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* ä½œã‚Šæ–¹ã‚«ãƒ¼ãƒ‰ï¼šè‡ªç”±å…¥åŠ›ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’æ å†…ã§è¡¨ç¤º */}\n        <div className=\"rounded-2xl border border-gray-100 bg-white px-4 py-4 sm:px-5 sm:py-5 shadow-[0_10px_30px_rgba(15,23,42,0.05)] hover:shadow-md transition-all\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-1 h-5 sm:h-6 bg-blue-500 rounded-full\" />\n              <h3 className=\"text-base font-semibold text-gray-900\">ä½œã‚Šæ–¹</h3>\n            </div>\n            <p className=\"text-[10px] uppercase tracking-[0.5em] text-gray-300\">\n              RECIPE\n            </p>\n          </div>\n          <p className=\"mt-3 text-sm text-gray-700 leading-relaxed whitespace-pre-wrap\">\n            {instructionsText}\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useEffect, useMemo, useState } from 'react';\nimport type { Cocktail } from '../../../../lib/types';\nimport { Dialog, DialogContent } from '../../../../components/ui/dialog';\nimport { Skeleton } from '../../../../components/ui/skeleton';\nimport { EditCocktailDialog } from '../EditCocktailDialog';\nimport { useAuth } from '../../../../hooks/useAuth';\nimport { useSwipeToClose } from './useSwipeToClose';\nimport { CocktailDetailHeader } from './CocktailDetailHeader';\nimport { CocktailDetailLeftColumn } from './CocktailDetailLeftColumn';\nimport { CocktailDetailRightColumn } from './CocktailDetailRightColumn';\nimport {\n  buildDefaultDescription,\n  buildDefaultInstructions,\n  getProvidedText,\n} from './cocktailUtils';\n\n// =======================================\n// Props\n// =======================================\n// ãƒ¢ãƒ¼ãƒ€ãƒ«åˆ¶å¾¡ã«å¿…è¦ãªstateãƒ»ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’å‹ã§å®šç¾©\ninterface CocktailDetailDialogProps {\n  cocktail: Cocktail | null;\n  isOpen: boolean;\n  onClose: () => void;\n  isFavorite?: boolean;\n  onToggleFavorite?: (cocktailId: number) => void;\n  onUpdate?: (updatedCocktail: Cocktail) => void;\n}\n\n// =======================================\n// Component\n// =======================================\n// ã‚«ã‚¯ãƒ†ãƒ«ã®è©³ç´°æƒ…å ±ã‚’ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã«å±•ç¤ºã—ã€ç·¨é›†ã‚„ãŠæ°—ã«å…¥ã‚Šæ“ä½œã‚‚å†…åŒ…ã™ã‚‹\nexport function CocktailDetailDialog({\n  cocktail,\n  isOpen,\n  onClose,\n  isFavorite,\n  onToggleFavorite,\n  onUpdate,\n}: CocktailDetailDialogProps) {\n  const [isEditOpen, setIsEditOpen] = useState(false);\n  const [currentCocktail, setCurrentCocktail] = useState<Cocktail | null>(\n    cocktail,\n  );\n  const { isAdmin } = useAuth();\n\n  const {\n    scrollRef,\n    dialogRef,\n    translateY,\n    isDragging,\n    handleTouchStart,\n    handleTouchMove,\n    handleTouchEnd,\n    handleTouchCancel,\n  } = useSwipeToClose({ onClose });\n\n  // è¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‹ã‚‰æ¸¡ã•ã‚Œã‚‹ã‚«ã‚¯ãƒ†ãƒ«ãŒå¤‰ã‚ã£ãŸéš›ã«stateã‚’åŒæœŸ\n  useEffect(() => {\n    setCurrentCocktail(cocktail);\n  }, [cocktail]);\n\n  // ç·¨é›†å®Œäº†æ™‚ã«æœ€æ–°ãƒ‡ãƒ¼ã‚¿ã§UIã‚’å†æç”»ã—ã€è¦ªã«ã‚‚å¤‰æ›´ã‚’ä¼ãˆã‚‹\n  const handleUpdateSuccess = (updatedCocktail: Cocktail) => {\n    setCurrentCocktail(updatedCocktail);\n    onUpdate?.(updatedCocktail);\n  };\n\n  // è¡¨ç¤ºåï¼ˆæ—¥æœ¬èªå„ªå…ˆï¼‰ã¨ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«ã‚’ãƒ¡ãƒ¢åŒ–ã—ã€æç”»ã‚³ã‚¹ãƒˆã‚’æŠ‘ãˆã‚‹\n  const { primaryName, secondaryName } = useMemo(() => {\n    const primary = currentCocktail?.name_ja || currentCocktail?.name || '';\n    const secondary =\n      currentCocktail?.name && currentCocktail?.name !== primary\n        ? currentCocktail.name\n        : null;\n    return { primaryName: primary, secondaryName: secondary };\n  }, [currentCocktail]);\n\n  // èª¬æ˜æ–‡ãŒãªã‘ã‚Œã°ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç”Ÿæˆ\n  const noteText = useMemo(() => {\n    return (\n      getProvidedText(currentCocktail?.description) ??\n      buildDefaultDescription(currentCocktail)\n    );\n  }, [currentCocktail]);\n\n  // ä½œã‚Šæ–¹ã‚‚åŒæ§˜ã«è£œå®Œã—ã€å’Œæ–‡â†’è‹±èªâ†’è‡ªå‹•ç”Ÿæˆã®å„ªå…ˆé †ä½ã§æ±ºå®š\n  const instructionsText = useMemo(() => {\n    return (\n      getProvidedText(currentCocktail?.instructions_ja) ??\n      getProvidedText(currentCocktail?.instructions) ??\n      buildDefaultInstructions(currentCocktail)\n    );\n  }, [currentCocktail]);\n\n  return (\n    <>\n      <Dialog open={isOpen} onOpenChange={onClose}>\n        <DialogContent\n          ref={dialogRef}\n          size=\"full\"\n          className=\" w-[92vw] sm:w-[84vw] lg:w-[74vw] xl:w-[68vw] 2xl:w-[62vw] max-w-[1400px] max-h-[calc(100dvh-6rem)] flex flex-col p-2 sm:p-4 border border-slate-200 rounded-2xl shadow-[0_20px_60px_rgba(15,23,42,0.12)] bg-white overflow-hidden [&>button]:hidden\"\n          style={{\n            transform: `translate(-50%, calc(-50% + ${translateY}px))`,\n            transition: isDragging\n              ? 'none'\n              : 'transform 0.35s cubic-bezier(0.22, 1, 0.36, 1), opacity 0.25s ease-out',\n            opacity: isDragging ? 0.98 : 1,\n            willChange: 'transform, opacity',\n          }}\n        >\n          {/* ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ï¼šè©³ç´°æƒ…å ±ãŒãªã„å ´åˆã¯Skeletonã§å ä½ */}\n          {!currentCocktail ? (\n            <div className=\"p-2 sm:p-6 md:p-8 space-y-6\">\n              <Skeleton className=\"h-8 sm:h-10 w-3/4 rounded-2xl\" />\n              <Skeleton className=\"h-5 sm:h-6 w-1/2 rounded-2xl\" />\n              <div className=\"flex gap-2\">\n                <Skeleton className=\"h-6 sm:h-8 w-16 sm:w-20 rounded-full\" />\n                <Skeleton className=\"h-6 sm:h-8 w-16 sm:w-20 rounded-full\" />\n              </div>\n              <Skeleton className=\"aspect-[16/9] w-full rounded-2xl\" />\n            </div>\n          ) : (\n            <>\n              <div className=\"sm:hidden flex justify-center pt-2 pb-1 shrink-0\">\n                <div className=\"w-10 h-1 bg-gray-300 rounded-full\" />\n              </div>\n              {/* è©³ç´°ãƒ˜ãƒƒãƒ€ãƒ¼ï¼šã‚¿ã‚¤ãƒˆãƒ«ãƒ»æ“ä½œãƒœã‚¿ãƒ³ãƒ»ãŠæ°—ã«å…¥ã‚Šåˆ‡ã‚Šæ›¿ãˆã‚’ã¾ã¨ã‚ã‚‹ */}\n              <CocktailDetailHeader\n                cocktail={currentCocktail}\n                noteText={noteText}\n                primaryName={primaryName}\n                secondaryName={secondaryName}\n                isFavorite={isFavorite}\n                isAdmin={isAdmin}\n                onClose={onClose}\n                onEditClick={() => setIsEditOpen(true)}\n                onToggleFavorite={onToggleFavorite}\n              />\n\n              {/* 2ã‚«ãƒ©ãƒ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼šå·¦ã«ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã€å³ã«ãƒ¬ã‚·ãƒ”è©³ç´°ã‚’é…ç½® */}\n              <div\n                ref={scrollRef}\n                className=\"flex-1 flex flex-col lg:flex-row bg-white overflow-y-auto lg:overflow-hidden\"\n                onTouchStart={handleTouchStart}\n                onTouchMove={handleTouchMove}\n                onTouchEnd={handleTouchEnd}\n                onTouchCancel={handleTouchCancel}\n              >\n                <CocktailDetailLeftColumn cocktail={currentCocktail} />\n                <CocktailDetailRightColumn\n                  cocktail={currentCocktail}\n                  instructionsText={instructionsText}\n                />\n              </div>\n            </>\n          )}\n        </DialogContent>\n      </Dialog>\n\n      {/* ç®¡ç†è€…ã®ã¿ç·¨é›†ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’è¡¨ç¤º */}\n      {isAdmin && currentCocktail && (\n        <EditCocktailDialog\n          cocktail={currentCocktail}\n          isOpen={isEditOpen}\n          onClose={() => setIsEditOpen(false)}\n          onSuccess={handleUpdateSuccess}\n        />\n      )}\n    </>\n  );\n}\n","import { useEffect, useRef, useState } from 'react';\nimport { Button } from '../../../../components/ui/button';\nimport { Check, ChevronDown } from 'lucide-react';\n\n// =======================================\n// Props\n// =======================================\n// ç¾åœ¨ã®ã‚½ãƒ¼ãƒˆè»¸ã¨å¤‰æ›´ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’è¦ªã‹ã‚‰å—ã‘å–ã‚‹\ninterface SortMenuProps {\n  value: 'id' | 'popular';\n  onChange: (value: 'id' | 'popular') => void;\n}\n\n// =======================================\n// Component\n// =======================================\n// ä¸€è¦§ã®ä¸¦ã³æ›¿ãˆã‚’åˆ¶å¾¡ã™ã‚‹ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼\nexport function SortMenu({ value, onChange }: SortMenuProps) {\n  const [open, setOpen] = useState(false);\n  const menuRef = useRef<HTMLDivElement>(null);\n\n  // ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‹ã„ã¦ã„ã‚‹é–“ã®ã¿ã€å¤–å´ã‚¯ãƒªãƒƒã‚¯ã¨Escã‚­ãƒ¼ã§é–‰ã˜ã‚‹\n  useEffect(() => {\n    if (!open) return;\n\n    const handleClickOutside = (event: MouseEvent) => {\n      if (menuRef.current && !menuRef.current.contains(event.target as Node)) {\n        setOpen(false);\n      }\n    };\n\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        setOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    document.addEventListener('keydown', handleKeyDown);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [open]);\n\n  // é …ç›®ã‚’é¸æŠã—ãŸã‚‰è¦ªã«é€šçŸ¥ã—ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‰ã˜ã‚‹\n  const handleSelect = (nextValue: 'id' | 'popular') => {\n    onChange(nextValue);\n    setOpen(false);\n  };\n\n  return (\n    <div className=\"relative\" ref={menuRef}>\n      <Button\n        type=\"button\"\n        variant=\"outline\"\n        className=\"h-9 bg-white border-gray-200 hover:bg-gray-50\"\n        onClick={() => setOpen((prev) => !prev)}\n        aria-haspopup=\"menu\"\n        aria-expanded={open}\n      >\n        ä¸¦ã¹æ›¿ãˆ\n        <ChevronDown className=\"h-4 w-4\" />\n      </Button>\n      {open && (\n        <div className=\"absolute right-0 mt-2 w-40 rounded-2xl border border-gray-200 bg-white shadow-lg z-50\">\n          <div className=\"py-2\">\n            <SortMenuItem\n              active={value === 'id'}\n              label=\"ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ\"\n              onSelect={() => handleSelect('id')}\n            />\n            <SortMenuItem\n              active={value === 'popular'}\n              label=\"äººæ°—é †\"\n              onSelect={() => handleSelect('popular')}\n            />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n// =======================================\n// Sub Component\n// =======================================\n// å€‹ã€…ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼é …ç›®ã€‚activeçŠ¶æ…‹ã§ã‚¹ã‚¿ã‚¤ãƒ«ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹\ninterface SortMenuItemProps {\n  active: boolean;\n  label: string;\n  onSelect: () => void;\n}\n\nfunction SortMenuItem({ active, label, onSelect }: SortMenuItemProps) {\n  return (\n    <button\n      type=\"button\"\n      className={`flex w-full items-center justify-between px-3 py-2 text-sm transition ${\n        active ? 'bg-gray-100 text-gray-900' : 'text-gray-600 hover:bg-gray-50'\n      }`}\n      onClick={onSelect}\n    >\n      <span>{label}</span>\n      {active && <Check className=\"h-4 w-4\" />}\n    </button>\n  );\n}\n","import { Heart } from 'lucide-react';\nimport { cn } from '../../../lib/utils';\n\n// =======================================\n// Props\n// =======================================\ninterface FavoriteButtonProps {\n  isFavorited: boolean;\n  onToggle: () => void;\n  disabled?: boolean;\n  size?: 'sm' | 'md' | 'lg';\n  className?: string;\n}\n\n// =======================================\n// Component\n// =======================================\n// ãŠæ°—ã«å…¥ã‚ŠçŠ¶æ…‹ã‚’ç¤ºã™ä¸¸å‹ãƒœã‚¿ãƒ³ã€‚ã‚«ãƒ¼ãƒ‰ä¸Šã§ã‚‚å˜ä½“ã§ã‚‚å†åˆ©ç”¨ã™ã‚‹\nexport const FavoriteButton = ({\n  isFavorited,\n  onToggle,\n  disabled = false,\n  size = 'md',\n  className,\n}: FavoriteButtonProps) => {\n  const sizeClasses = {\n    sm: 'w-6 h-6',\n    md: 'w-8 h-8',\n    lg: 'w-10 h-10',\n  };\n\n  const iconSizes = {\n    sm: 16,\n    md: 20,\n    lg: 24,\n  };\n\n  return (\n    <button\n      onClick={(e) => {\n        e.stopPropagation();\n        onToggle();\n      }}\n      disabled={disabled}\n      className={cn(\n        'rounded-full bg-white/90 backdrop-blur-sm shadow-md',\n        'flex items-center justify-center',\n        'transition-all duration-200',\n        'hover:scale-110 hover:shadow-lg',\n        'active:scale-95',\n        'disabled:opacity-50 disabled:cursor-not-allowed',\n        sizeClasses[size],\n        className,\n      )}\n      aria-label={isFavorited ? 'ãŠæ°—ã«å…¥ã‚Šã‹ã‚‰å‰Šé™¤' : 'ãŠæ°—ã«å…¥ã‚Šã«è¿½åŠ '}\n    >\n      <Heart\n        size={iconSizes[size]}\n        className={cn(\n          'transition-all duration-200',\n          isFavorited\n            ? 'fill-red-500 text-red-500'\n            : 'text-gray-400 hover:text-red-400',\n        )}\n      />\n    </button>\n  );\n};\n","import type { Cocktail } from '../../../lib/types';\nimport { Card, CardContent } from '../../../components/ui/card';\nimport { Badge } from '../../../components/ui/badge';\nimport { Wine } from 'lucide-react';\nimport { ImageWithFallback } from '../../../components/common/ImageWithFallback';\nimport { FavoriteButton } from './FavoriteButton';\n\n// =======================================\n// Props\n// =======================================\n// ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã‚„è¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆãƒ•ãƒ©ã‚°ã‚’å‹ã§ç¸›ã‚Šã€è¦ªå­é–“ã®å¥‘ç´„ã‚’æ˜ç¢ºã«ã™ã‚‹\ninterface CocktailCardProps {\n  cocktail: Cocktail; // è¡¨ç¤ºå¯¾è±¡ã®ã‚«ã‚¯ãƒ†ãƒ«æƒ…å ±\n  onViewDetails: (cocktail: Cocktail) => void; // è©³ç´°ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’é–‹ããŸã‚ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯\n  onFavoriteToggle?: (cocktailId: number) => void; // ãŠæ°—ã«å…¥ã‚Šãƒˆã‚°ãƒ«ç”¨ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯\n  isFavorited?: boolean; // ãŠæ°—ã«å…¥ã‚ŠçŠ¶æ…‹è¡¨ç¤ºãƒ•ãƒ©ã‚°\n  showFavoriteButton?: boolean; // ãƒœã‚¿ãƒ³è‡ªä½“ã‚’æç”»ã™ã‚‹ã‹ã©ã†ã‹\n}\n\n// =======================================\n// è¡¨ç¤ºç”¨å®šæ•°\n// =======================================\n// Tailwindã‚¯ãƒ©ã‚¹ã¨ãƒ©ãƒ™ãƒ«ã‚’è¾æ›¸åŒ–ã—ã¦ãŠãã€JSXå†…ã§ã®æ¡ä»¶åˆ†å²ã‚’å¹³æ˜“ã«ã™ã‚‹\nconst strengthColors = {\n  light: 'bg-green-100 text-green-800 border-green-200',\n  medium: 'bg-yellow-100 text-yellow-800 border-yellow-200',\n  strong: 'bg-red-100 text-red-800 border-red-200',\n};\n\nconst strengthLabels = {\n  light: 'ãƒ©ã‚¤ãƒˆ',\n  medium: 'ãƒŸãƒ‡ã‚£ã‚¢ãƒ ',\n  strong: 'ã‚¹ãƒˆãƒ­ãƒ³ã‚°',\n};\n\nconst baseLabels = {\n  gin: 'ã‚¸ãƒ³',\n  rum: 'ãƒ©ãƒ ',\n  whisky: 'ã‚¦ã‚¤ã‚¹ã‚­ãƒ¼',\n  vodka: 'ã‚¦ã‚©ãƒƒã‚«',\n  tequila: 'ãƒ†ã‚­ãƒ¼ãƒ©',\n  beer: 'ãƒ“ãƒ¼ãƒ«',\n  wine: 'ãƒ¯ã‚¤ãƒ³',\n};\n\nconst techniqueLabels = {\n  build: 'ãƒ“ãƒ«ãƒ‰',\n  stir: 'ã‚¹ãƒ†ã‚¢',\n  shake: 'ã‚·ã‚§ã‚¤ã‚¯',\n};\n\n// =======================================\n// Component\n// =======================================\n// ã‚«ãƒ¼ãƒ‰ä¸Šã§è¦–è¦šæƒ…å ±ã¨æ“ä½œã‚’ã¾ã¨ã‚ã€ã‚¿ãƒƒãƒ—ã²ã¨ã¤ã§è©³ç´°è¡¨ç¤ºã¨ãŠæ°—ã«å…¥ã‚Šåˆ¶å¾¡ã‚’æä¾›ã™ã‚‹\nexport function CocktailCard({\n  cocktail,\n  onViewDetails,\n  onFavoriteToggle,\n  isFavorited = false,\n  showFavoriteButton = false,\n}: CocktailCardProps) {\n  return (\n    <Card\n      className=\"group cursor-pointer hover:shadow-lg hover:-translate-y-1 transition-all duration-300 overflow-hidden border bg-white border-gray-200 rounded-2xl\"\n      onClick={() => onViewDetails(cocktail)}\n    >\n      {/* ================================\n          ç”»åƒã‚¨ãƒªã‚¢\n          relativeæŒ‡å®šã§ãƒãƒƒã‚¸ã‚’é‡ã­ã€hoveræ™‚ã®æ‹¡å¤§ã§è¦–ç·šã‚’èª˜å°ã™ã‚‹\n         ================================ */}\n      <div className=\"relative aspect-[4/3] overflow-hidden\">\n        <ImageWithFallback\n          src={cocktail.image_url || ''}\n          alt={cocktail.name}\n          className=\"object-cover w-full h-full group-hover:scale-105 transition-transform duration-500\"\n        />\n\n        {/* ãŠæ°—ã«å…¥ã‚Šãƒœã‚¿ãƒ³ï¼šå·¦ä¸Šå›ºå®šã§è¦ªæŒ‡æ“ä½œã—ã‚„ã™ã„ä½ç½®ã«ç½®ã */}\n        {showFavoriteButton && onFavoriteToggle && (\n          <div className=\"absolute top-2 left-2 md:top-3 md:left-3 z-10\">\n            <FavoriteButton\n              isFavorited={isFavorited}\n              onToggle={() => onFavoriteToggle(cocktail.id)}\n              size=\"sm\"\n            />\n          </div>\n        )}\n\n        {/* å¼·åº¦ãƒãƒƒã‚¸ï¼šå³ä¸Šã«é‡ã­ã€Tailwindã‚¯ãƒ©ã‚¹ã§è‰²åˆ†ã‘ã™ã‚‹ */}\n        <div className=\"absolute top-2 right-2 md:top-3 md:right-3\">\n          <Badge\n            className={`${strengthColors[cocktail.strength] ?? strengthColors['light']} shadow-sm text-xs`}\n          >\n            {strengthLabels[cocktail.strength] ?? strengthLabels['light']}\n          </Badge>\n        </div>\n      </div>\n\n      {/* ================================\n          æœ¬æ–‡ã‚¨ãƒªã‚¢\n          ã‚¿ã‚¤ãƒˆãƒ«ãƒ»ãƒ™ãƒ¼ã‚¹ãƒ»æŠ€æ³•ã‚’ç¸¦â†’æ¨ªã®é †ã§ä¸¦ã¹ã€æƒ…å ±ã‚’æ•´ç†ã™ã‚‹\n         ================================ */}\n      <CardContent className=\"p-3 md:p-5\">\n        {/* ã‚¿ã‚¤ãƒˆãƒ«è¡Œï¼šæ—¥æœ¬èªåãŒã‚ã‚‹å ´åˆã¯è‹±åã‚’è£œåŠ©è¡¨ç¤ºã™ã‚‹ */}\n        <div className=\"mb-2 md:mb-3 min-h-[2.5rem] md:min-h-[3rem]\">\n          <h3 className=\"text-sm md:text-base text-gray-900 font-bold line-clamp-1 leading-tight\">\n            {cocktail.name_ja || cocktail.name}\n          </h3>\n          {cocktail.name_ja && (\n            <p className=\"text-xs text-gray-500 font-medium tracking-wide uppercase mt-0.5\">\n              {cocktail.name}\n            </p>\n          )}\n        </div>\n\n        {/* å±æ€§è¡Œï¼šå·¦ã«ãƒ™ãƒ¼ã‚¹ã€å³ã«æŠ€æ³•ã‚’é…ç½®ã—ã€è¦–ç·šç§»å‹•ã‚’æœ€å°åŒ–ã™ã‚‹ */}\n        <div className=\"flex items-center justify-between text-xs md:text-sm\">\n          <div className=\"flex items-center gap-1.5 md:gap-2 text-gray-600\">\n            <Wine className=\"w-3.5 h-3.5 md:w-4 md:h-4\" />\n            <span>{baseLabels[cocktail.base]}</span>\n          </div>\n          <span className=\"text-gray-500\">\n            {techniqueLabels[\n              cocktail.technique as keyof typeof techniqueLabels\n            ] ?? cocktail.technique}\n          </span>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\nimport type { ButtonProps } from \"./button.types\"\nimport { buttonVariants } from \"./button-variants\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","import {\n  Pagination as PaginationRoot,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n} from '../../../components/ui/pagination';\n\n// =======================================\n// Props\n// =======================================\ninterface PaginationProps {\n  currentPage: number;\n  totalPages: number;\n  onPageChange: (page: number) => void;\n}\n\n// =======================================\n// Component\n// =======================================\n// ã‚·ãƒ³ãƒ—ãƒ«ãªç•ªå·ä»˜ããƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã€‚ellipsisã§ä¸­é–“ãƒšãƒ¼ã‚¸ã‚’çœç•¥\nexport function Pagination({\n  currentPage,\n  totalPages,\n  onPageChange,\n}: PaginationProps) {\n  if (totalPages <= 1) return null;\n\n  // è¡¨ç¤ºã™ã‚‹ãƒšãƒ¼ã‚¸ç•ªå·ã‚’è¨ˆç®—ã€‚å…ˆé ­/æœ«å°¾ã¨å‰å¾Œ1ãƒšãƒ¼ã‚¸ã ã‘è¡¨ç¤ºã™ã‚‹\n  const getPageNumbers = () => {\n    const pages: (number | 'ellipsis')[] = [];\n    const maxVisible = 5;\n\n    if (totalPages <= maxVisible) {\n      for (let i = 1; i <= totalPages; i++) {\n        pages.push(i);\n      }\n    } else {\n      pages.push(1);\n\n      if (currentPage > 3) {\n        pages.push('ellipsis');\n      }\n\n      const start = Math.max(2, currentPage - 1);\n      const end = Math.min(totalPages - 1, currentPage + 1);\n\n      for (let i = start; i <= end; i++) {\n        pages.push(i);\n      }\n\n      if (currentPage < totalPages - 2) {\n        pages.push('ellipsis');\n      }\n\n      pages.push(totalPages);\n    }\n\n    return pages;\n  };\n\n  return (\n    <PaginationRoot>\n      <PaginationContent>\n        <PaginationItem>\n          {/* å‰ã¸ãƒœã‚¿ãƒ³ï¼š1ãƒšãƒ¼ã‚¸ç›®ã¯éæ´»æ€§ */}\n          <PaginationPrevious\n            href=\"#\"\n            onClick={(e) => {\n              e.preventDefault();\n              if (currentPage > 1) onPageChange(currentPage - 1);\n            }}\n            className={\n              currentPage === 1\n                ? 'pointer-events-none opacity-50'\n                : 'cursor-pointer'\n            }\n          />\n        </PaginationItem>\n\n        {getPageNumbers().map((page, index) =>\n          page === 'ellipsis' ? (\n            <PaginationItem key={`ellipsis-${index}`}>\n              <PaginationEllipsis />\n            </PaginationItem>\n          ) : (\n            <PaginationItem key={page}>\n              <PaginationLink\n                href=\"#\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  onPageChange(page);\n                }}\n                isActive={currentPage === page}\n                className=\"cursor-pointer\"\n              >\n                {page}\n              </PaginationLink>\n            </PaginationItem>\n          ),\n        )}\n\n        <PaginationItem>\n          {/* æ¬¡ã¸ãƒœã‚¿ãƒ³ï¼šæœ€çµ‚ãƒšãƒ¼ã‚¸ã¯éæ´»æ€§ */}\n          <PaginationNext\n            href=\"#\"\n            onClick={(e) => {\n              e.preventDefault();\n              if (currentPage < totalPages) onPageChange(currentPage + 1);\n            }}\n            className={\n              currentPage === totalPages\n                ? 'pointer-events-none opacity-50'\n                : 'cursor-pointer'\n            }\n          />\n        </PaginationItem>\n      </PaginationContent>\n    </PaginationRoot>\n  );\n}\n","import type { ReactNode } from 'react';\nimport type { Cocktail } from '../../../../lib/types';\nimport { Card, CardContent } from '../../../../components/ui/card';\nimport { Skeleton } from '../../../../components/ui/skeleton';\nimport { CocktailCard } from '../CocktailCard';\nimport { Pagination } from '../Pagination';\n\n// =======================================\n// Props\n// =======================================\n// ä¸€è¦§è¡¨ç¤ºã§å—ã‘å–ã‚‹ãƒ‡ãƒ¼ã‚¿ã¨ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’å‹ã§ç¸›ã‚Šã€è¦ªã‚³ãƒ³ãƒ†ãƒŠã¨ã®å¥‘ç´„ã‚’æ˜ç¤º\ninterface CocktailGridSectionProps {\n  cocktails: Cocktail[] | null;\n  totalCount: number;\n  isLoading: boolean;\n  error: string | null;\n  itemsPerPage: number;\n  sortMenu: ReactNode;\n  onCardClick: (cocktail: Cocktail) => void;\n  onFavoriteToggle: (cocktailId: number) => void | Promise<void>;\n  isFavorite: (cocktailId: number) => boolean;\n  currentPage: number;\n  totalPages: number;\n  onPageChange: (page: number) => void;\n}\n\n// =======================================\n// Component\n// =======================================\n// èª­ã¿è¾¼ã¿ãƒ»ç©ºçŠ¶æ…‹ãƒ»é€šå¸¸ã‚°ãƒªãƒƒãƒ‰ã®3ã‚¹ãƒ†ãƒ¼ãƒˆã‚’æ‹…ã†ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\nexport function CocktailGridSection({\n  cocktails,\n  totalCount,\n  isLoading,\n  error,\n  itemsPerPage,\n  sortMenu,\n  onCardClick,\n  onFavoriteToggle,\n  isFavorite,\n  currentPage,\n  totalPages,\n  onPageChange,\n}: CocktailGridSectionProps) {\n  const showGrid = Array.isArray(cocktails);\n  const showEmptyState = showGrid && cocktails.length === 0 && !isLoading;\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex flex-wrap items-center justify-between gap-3\">\n        <span className=\"text-sm text-gray-600\">\n          {totalCount}ç¨®é¡ã®ã‚«ã‚¯ãƒ†ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ\n        </span>\n        {sortMenu}\n      </div>\n\n      {/* ã‚¨ãƒ©ãƒ¼è¡¨ç¤ºï¼šAPIå¤±æ•—æ™‚ã®ã¿ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‡ºã™ */}\n      {error && !isLoading && (\n        <p className=\"text-sm text-red-500\">Failed to load: {error}</p>\n      )}\n\n      {/* ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤ºï¼šSkeletonã§ã‚«ãƒ¼ãƒ‰ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’å ä½ */}\n      {isLoading && !showGrid && (\n        <div className=\"grid gap-3 md:gap-6 grid-cols-2 lg:grid-cols-3\">\n          {Array.from({ length: itemsPerPage }).map((_, index) => (\n            <Card\n              key={`cocktail-skeleton-${index}`}\n              className=\"overflow-hidden border bg-white border-gray-200 rounded-2xl\"\n            >\n              <div className=\"relative aspect-[4/3]\">\n                <Skeleton className=\"absolute inset-0\" />\n              </div>\n              <CardContent className=\"p-3 md:p-5\">\n                <div className=\"mb-2 md:mb-3 space-y-2\">\n                  <Skeleton className=\"h-6 w-3/4\" />\n                  <Skeleton className=\"h-4 w-1/2\" />\n                </div>\n                <div className=\"flex flex-wrap gap-1.5 md:gap-2\">\n                  <Skeleton className=\"h-5 w-16\" />\n                  <Skeleton className=\"h-5 w-16\" />\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      )}\n\n      {/* ã‚°ãƒªãƒƒãƒ‰è¡¨ç¤ºï¼šãƒ‡ãƒ¼ã‚¿ãŒå­˜åœ¨ã™ã‚‹å ´åˆã«ã‚«ãƒ¼ãƒ‰ï¼‹ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã‚’æç”» */}\n      {showGrid && (\n        <div className=\"space-y-4\">\n          <div className=\"grid gap-3 md:gap-6 grid-cols-2 lg:grid-cols-3\">\n            {cocktails.map((cocktail) => (\n              <CocktailCard\n                key={cocktail.id}\n                cocktail={cocktail}\n                onViewDetails={onCardClick}\n                onFavoriteToggle={onFavoriteToggle}\n                isFavorited={isFavorite(cocktail.id)}\n                showFavoriteButton\n              />\n            ))}\n          </div>\n\n          {showEmptyState && (\n            <div className=\"text-center py-12 text-gray-500\">\n              <p>æ¡ä»¶ã«ä¸€è‡´ã™ã‚‹ã‚«ã‚¯ãƒ†ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ</p>\n            </div>\n          )}\n\n          {!showEmptyState && totalPages > 1 && (\n            <Pagination\n              currentPage={currentPage}\n              totalPages={totalPages}\n              onPageChange={onPageChange}\n            />\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n","import { Heart, LogIn } from 'lucide-react';\nimport { Button } from '../../../../components/ui/button';\nimport type { Cocktail } from '../../../../lib/types';\nimport { CocktailCard } from '../CocktailCard';\nimport { Pagination } from '../Pagination';\n\n// =======================================\n// Props\n// =======================================\n// èªè¨¼çŠ¶æ…‹ã‚„ãŠæ°—ã«å…¥ã‚Šãƒ‡ãƒ¼ã‚¿ã€ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’å‹ã§æ˜ç¢ºåŒ–ã™ã‚‹\ninterface FavoritesPanelProps {\n  isAuthenticated: boolean;\n  favorites: Cocktail[];\n  paginatedFavorites: Cocktail[];\n  currentPage: number;\n  totalPages: number;\n  onPageChange: (page: number) => void;\n  onRequireLogin: () => void;\n  onCardClick: (cocktail: Cocktail) => void;\n  onFavoriteToggle: (cocktailId: number) => void | Promise<void>;\n}\n\n// =======================================\n// Component\n// =======================================\n// ãŠæ°—ã«å…¥ã‚Šã‚¿ãƒ–ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€‚ãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹ã¨ä»¶æ•°ã§UIã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹\nexport function FavoritesPanel({\n  isAuthenticated,\n  favorites,\n  paginatedFavorites,\n  currentPage,\n  totalPages,\n  onPageChange,\n  onRequireLogin,\n  onCardClick,\n  onFavoriteToggle,\n}: FavoritesPanelProps) {\n  // æœªãƒ­ã‚°ã‚¤ãƒ³æ™‚ã¯èª¬æ˜ã¨ãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³ã®ã¿è¡¨ç¤º\n  if (!isAuthenticated) {\n    return (\n      <div className=\"text-center py-16 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-200\">\n        <div className=\"text-6xl mb-4\">ğŸ”’</div>\n        <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">\n          ãƒ­ã‚°ã‚¤ãƒ³ãŒå¿…è¦ã§ã™\n        </h3>\n        <p className=\"text-gray-500 mb-6\">\n          ãŠæ°—ã«å…¥ã‚Šæ©Ÿèƒ½ã‚’ä½¿ã†ã«ã¯ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„\n        </p>\n        <Button\n          onClick={onRequireLogin}\n          className=\"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-sm\"\n        >\n          <LogIn className=\"w-4 h-4 mr-2\" />\n          ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹\n        </Button>\n      </div>\n    );\n  }\n\n  // ãŠæ°—ã«å…¥ã‚ŠãŒç©ºãªã‚‰ãƒãƒ¼ãƒˆã‚¢ã‚¤ã‚³ãƒ³ã®æ¡ˆå†…ã‚’è¡¨ç¤º\n  if (favorites.length === 0) {\n    return (\n      <div className=\"text-center py-12 text-gray-500\">\n        <Heart size={48} className=\"mx-auto mb-4 text-gray-300\" />\n        <p className=\"text-lg font-medium\">ãŠæ°—ã«å…¥ã‚ŠãŒã‚ã‚Šã¾ã›ã‚“</p>\n        <p className=\"text-sm mt-2\">\n          ã‚«ã‚¯ãƒ†ãƒ«ã®ãƒãƒ¼ãƒˆãƒãƒ¼ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€ãŠæ°—ã«å…¥ã‚Šã«è¿½åŠ ã—ã¾ã—ã‚‡ã†\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"grid gap-3 md:gap-6 grid-cols-2 lg:grid-cols-3\">\n        {paginatedFavorites.map((cocktail) => (\n          <CocktailCard\n            key={cocktail.id}\n            cocktail={cocktail}\n            onViewDetails={onCardClick}\n            onFavoriteToggle={onFavoriteToggle}\n            isFavorited\n            showFavoriteButton\n          />\n        ))}\n      </div>\n      {totalPages > 1 && (\n        <Pagination\n          currentPage={currentPage}\n          totalPages={totalPages}\n          onPageChange={onPageChange}\n        />\n      )}\n    </div>\n  );\n}\n","import { useState, useCallback } from 'react';\nimport type { Favorite } from '../lib/types';\nimport { apiDelete, apiGet, apiPost } from '../lib/api';\nimport { toast } from '../lib/toast';\n\n// =======================================\n// Hook\n// =======================================\n// ãŠæ°—ã«å…¥ã‚Šã®å–å¾—ãƒ»è¿½åŠ ãƒ»å‰Šé™¤ã‚’ã¾ã¨ã‚ãŸã‚¢ãƒ—ãƒªå…±é€šã®ãƒ­ã‚¸ãƒƒã‚¯\nexport const useFavorites = () => {\n  const [favorites, setFavorites] = useState<Favorite[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‹ã‚‰ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—ã—ã€ãªã‘ã‚Œã°ãƒˆãƒ¼ã‚¹ãƒˆã§é€šçŸ¥\n  const requireToken = useCallback(() => {\n    const token = localStorage.getItem('auth_token');\n    if (!token) {\n      const message = 'ãƒ­ã‚°ã‚¤ãƒ³ãŒå¿…è¦ã§ã™';\n      setError(message);\n      toast.error(message);\n      return null;\n    }\n    return token;\n  }, []);\n\n  // ãŠæ°—ã«å…¥ã‚Šä¸€è¦§ã‚’å–å¾—\n  const fetchFavorites = useCallback(async () => {\n    if (!requireToken()) {\n      return;\n    }\n\n    setLoading(true);\n    setError(null);\n\n    try {\n      const data = await apiGet('/api/v1/favorites');\n      setFavorites(Array.isArray(data?.data) ? data.data : []);\n    } catch (err) {\n      const message =\n        err instanceof Error ? err.message : 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ';\n      setError(message);\n      toast.error(message);\n    } finally {\n      setLoading(false);\n    }\n  }, [requireToken]);\n\n  // ãŠæ°—ã«å…¥ã‚Šã«è¿½åŠ \n  const addFavorite = useCallback(\n    async (cocktailId: number) => {\n      if (!requireToken()) {\n        return false;\n      }\n\n      setError(null);\n\n      try {\n        const response = await apiPost('/api/v1/favorites', {\n          cocktail_id: cocktailId,\n        });\n        const favoriteData = response?.data;\n\n        if (favoriteData?.id && favoriteData?.cocktail) {\n          const createdAt =\n            typeof favoriteData.created_at === 'string'\n              ? favoriteData.created_at\n              : new Date().toISOString();\n\n          setFavorites((prev) => {\n            const exists = prev.find(\n              (fav) => fav.cocktail.id === favoriteData.cocktail.id,\n            );\n            if (exists) {\n              return prev.map((fav) =>\n                fav.cocktail.id === favoriteData.cocktail.id\n                  ? {\n                      id: favoriteData.id,\n                      cocktail: {\n                        ...favoriteData.cocktail,\n                        is_favorited: true,\n                      },\n                      created_at: createdAt,\n                    }\n                  : fav,\n              );\n            }\n\n            return [\n              {\n                id: favoriteData.id,\n                cocktail: { ...favoriteData.cocktail, is_favorited: true },\n                created_at: createdAt,\n              },\n              ...prev,\n            ];\n          });\n        } else {\n          await fetchFavorites();\n        }\n\n        toast.success('ãŠæ°—ã«å…¥ã‚Šã«è¿½åŠ ã—ã¾ã—ãŸ');\n        return true;\n      } catch (err) {\n        const message =\n          err instanceof Error ? err.message : 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ';\n        setError(message);\n        toast.error(message);\n        return false;\n      }\n    },\n    [fetchFavorites, requireToken],\n  );\n\n  // ãŠæ°—ã«å…¥ã‚Šã‹ã‚‰å‰Šé™¤\n  const removeFavorite = useCallback(\n    async (favoriteId: number) => {\n      if (!requireToken()) {\n        return false;\n      }\n\n      setError(null);\n\n      try {\n        await apiDelete(`/api/v1/favorites/${favoriteId}`);\n        setFavorites((prev) => prev.filter((fav) => fav.id !== favoriteId));\n        toast.success('ãŠæ°—ã«å…¥ã‚Šã‹ã‚‰å‰Šé™¤ã—ã¾ã—ãŸ');\n        return true;\n      } catch (err) {\n        const message =\n          err instanceof Error ? err.message : 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ';\n        setError(message);\n        toast.error(message);\n        return false;\n      }\n    },\n    [requireToken],\n  );\n\n  // ã‚«ã‚¯ãƒ†ãƒ«IDã‹ã‚‰ãŠæ°—ã«å…¥ã‚ŠIDã‚’å–å¾—\n  const getFavoriteId = useCallback(\n    (cocktailId: number) => {\n      const favorite = favorites.find((fav) => fav.cocktail.id === cocktailId);\n      return favorite?.id;\n    },\n    [favorites],\n  );\n\n  // ã‚«ã‚¯ãƒ†ãƒ«ãŒãŠæ°—ã«å…¥ã‚Šã‹ã©ã†ã‹ã‚’ç¢ºèª\n  const isFavorite = useCallback(\n    (cocktailId: number) => {\n      return favorites.some((fav) => fav.cocktail.id === cocktailId);\n    },\n    [favorites],\n  );\n\n  // ãƒ­ã‚°ã‚¢ã‚¦ãƒˆæ™‚ãªã©ã«ãŠæ°—ã«å…¥ã‚Šã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ç ´æ£„\n  const clearFavorites = useCallback(() => {\n    setFavorites([]);\n    setError(null);\n  }, []);\n\n  return {\n    favorites,\n    loading,\n    error,\n    fetchFavorites,\n    addFavorite,\n    removeFavorite,\n    getFavoriteId,\n    isFavorite,\n    clearFavorites,\n  };\n};\n","import { useEffect, useState } from 'react';\n\nexport function useDebounce<T>(value: T, delay = 300) {\n  const [debouncedValue, setDebouncedValue] = useState(value);\n\n  useEffect(() => {\n    const timeoutId = setTimeout(() => setDebouncedValue(value), delay);\n    return () => clearTimeout(timeoutId);\n  }, [value, delay]);\n\n  return debouncedValue;\n}\n","import { useEffect, useMemo, useState } from 'react';\nimport { fetchCocktails, type CocktailQuery } from '../../../lib/api';\nimport type { Cocktail } from '../../../lib/types';\nimport { useDebounce } from '../../../hooks/useDebounce';\n\nexport interface UseCocktailSearchOptions {\n  query: string;\n  bases: string[];\n  page: number;\n  perPage: number;\n  sort: 'id' | 'popular';\n}\n\ninterface UseCocktailSearchResult {\n  cocktails: Cocktail[] | null;\n  totalPages: number;\n  totalCount: number;\n  error: string | null;\n  isLoading: boolean;\n  debouncedQuery: string;\n  updateLocalCocktail: (cocktail: Cocktail) => void;\n}\n\n// =======================================\n// Hook\n// =======================================\n// ã‚«ã‚¯ãƒ†ãƒ«ä¸€è¦§ã®æ¤œç´¢ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥åˆ¶å¾¡ã‚’ã¾ã¨ã‚ãŸã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯\nexport function useCocktailSearch(\n  options: UseCocktailSearchOptions,\n): UseCocktailSearchResult {\n  const { query, bases, page, perPage, sort } = options;\n  const [cocktails, setCocktails] = useState<Cocktail[] | null>(null);\n  const [totalPages, setTotalPages] = useState(0);\n  const [totalCount, setTotalCount] = useState(0);\n  const [error, setError] = useState<string | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const debouncedQuery = useDebounce(query, 300);\n\n  // ã‚¯ã‚¨ãƒªæ¡ä»¶ã‚’ã‚‚ã¨ã«ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç”¨ã®ã‚­ãƒ¼ã‚’ç”Ÿæˆ\n  const cacheKey = useMemo(() => {\n    return `cocktails_${JSON.stringify({\n      q: debouncedQuery,\n      base: bases,\n      page,\n      per_page: perPage,\n      sort,\n    })}`;\n  }, [debouncedQuery, bases, page, perPage, sort]);\n\n  // APIã‚’å‘¼ã³å‡ºã—ã€çµæœã‚’stateã¨sessionStorageã«åæ˜ \n  useEffect(() => {\n    let mounted = true;\n    setIsLoading(true);\n\n    const canUseSessionStorage =\n      typeof window !== 'undefined' && !!window.sessionStorage;\n\n    const applyResponse = (response: {\n      cocktails: Cocktail[];\n      meta: { total_pages: number; total_count: number };\n    }) => {\n      if (!mounted) return;\n      setCocktails(response.cocktails);\n      setTotalPages(response.meta.total_pages);\n      setTotalCount(response.meta.total_count);\n      setError(null);\n    };\n\n    if (canUseSessionStorage) {\n      const cached = window.sessionStorage.getItem(cacheKey);\n      if (cached) {\n        try {\n          const data = JSON.parse(cached);\n          applyResponse(data);\n          setIsLoading(false);\n          return () => {\n            mounted = false;\n          };\n        } catch {\n          window.sessionStorage.removeItem(cacheKey);\n        }\n      }\n    }\n\n    const params: CocktailQuery = {\n      page,\n      per_page: perPage,\n    };\n\n    if (debouncedQuery) params.q = debouncedQuery;\n    if (bases.length) params.base = bases;\n    if (sort === 'popular') params.sort = 'popular';\n\n    fetchCocktails(params)\n      .then((response) => {\n        if (mounted) {\n          applyResponse(response);\n          if (canUseSessionStorage) {\n            window.sessionStorage.setItem(cacheKey, JSON.stringify(response));\n          }\n        }\n      })\n      .catch((err) => {\n        if (!mounted) return;\n        setError(\n          err instanceof Error ? err.message : 'Failed to fetch cocktails',\n        );\n      })\n      .finally(() => {\n        if (mounted) setIsLoading(false);\n      });\n\n    return () => {\n      mounted = false;\n    };\n  }, [bases, cacheKey, debouncedQuery, page, perPage, sort]);\n\n  return {\n    cocktails,\n    totalPages,\n    totalCount,\n    error,\n    isLoading,\n    debouncedQuery,\n    // ãƒ¢ãƒ¼ãƒ€ãƒ«å†…ç·¨é›†ãªã©ã§å€‹åˆ¥æ›´æ–°ãŒã‚ã£ãŸå ´åˆã«ãƒªã‚¹ãƒˆã¸åæ˜ ã™ã‚‹\n    updateLocalCocktail: (updatedCocktail: Cocktail) => {\n      setCocktails((prev) => {\n        if (!prev) return prev;\n        return prev.map((cocktail) =>\n          cocktail.id === updatedCocktail.id ? updatedCocktail : cocktail,\n        );\n      });\n    },\n  };\n}\n","import { useEffect, useState } from 'react';\nimport { Heart, Search } from 'lucide-react';\nimport { Card, CardContent } from '../../../../components/ui/card';\nimport {\n  Tabs,\n  TabsList,\n  TabsTrigger,\n  TabsContent,\n} from '../../../../components/ui/tabs';\nimport { Button } from '../../../../components/ui/button';\nimport {\n  Sheet,\n  SheetContent,\n  SheetHeader,\n  SheetTitle,\n  SheetTrigger,\n} from '../../../../components/ui/sheet';\nimport { TodaysPick } from '../../../todays-pick/components/TodaysPick';\nimport { CocktailFilters } from '../CocktailFilters';\nimport { CocktailDetailDialog } from '../detail/CocktailDetailDialog';\nimport { AuthDialog } from '../../../auth/components/AuthDialog';\nimport { SortMenu } from './SortMenu';\nimport { CocktailGridSection } from './CocktailGridSection';\nimport { FavoritesPanel } from './FavoritesPanel';\nimport { Seo } from '../../../../components/layout/Seo';\nimport { useFavorites } from '../../../../hooks/useFavorites';\nimport { useAuth } from '../../../../hooks/useAuth';\nimport type { Cocktail } from '../../../../lib/types';\nimport { fetchCocktail } from '../../../../lib/api';\nimport { absoluteUrl, siteMetadata } from '../../../../lib/seo';\nimport { useCocktailSearch } from '../../hooks/useCocktailSearch';\n\n// =======================================\n// SEOå®šç¾©\n// =======================================\n// æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ã‚’å®šæ•°ã«åˆ‡ã‚Šå‡ºã—ã€JSXå†…ã‚’ã‚·ãƒ³ãƒ—ãƒ«ã«ä¿ã¤\nconst HOME_WEBSITE_JSON_LD = {\n  '@context': 'https://schema.org',\n  '@type': 'WebSite',\n  name: siteMetadata.siteName,\n  url: siteMetadata.siteUrl,\n  potentialAction: {\n    '@type': 'SearchAction',\n    target: `${siteMetadata.siteUrl}/?q={search_term_string}`,\n    'query-input': 'required name=search_term_string',\n  },\n};\n\n// =======================================\n// Responsive Helper\n// =======================================\n// ç”»é¢å¹…ã«å¿œã˜ã¦ã‚«ãƒ¼ãƒ‰è¡¨ç¤ºæ•°ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ãƒ˜ãƒ«ãƒ‘ãƒ¼hook\nconst useItemsPerPage = () => {\n  const [itemsPerPage, setItemsPerPage] = useState(\n    typeof window !== 'undefined' && window.innerWidth < 1024 ? 8 : 9,\n  );\n\n  useEffect(() => {\n    const handleResize = () => {\n      setItemsPerPage(window.innerWidth < 1024 ? 8 : 9);\n    };\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return itemsPerPage;\n};\n\n// =======================================\n// Component\n// =======================================\n// æ¤œç´¢ãƒ»ãŠæ°—ã«å…¥ã‚Šãƒ»è©³ç´°ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’æŸã­ã‚‹ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã®ã‚³ãƒ³ãƒ†ãƒŠ\nexport function CocktailList() {\n  const itemsPerPage = useItemsPerPage();\n  const [selectedCocktail, setSelectedCocktail] = useState<Cocktail | null>(\n    null,\n  );\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  const [activeTab, setActiveTab] = useState('all');\n  const [isAuthOpen, setIsAuthOpen] = useState(false);\n  const [isFilterOpen, setIsFilterOpen] = useState(false);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [favoritesPage, setFavoritesPage] = useState(1);\n  const [q, setQ] = useState('');\n  const [selectedBases, setSelectedBases] = useState<string[]>([]);\n  const [sort, setSort] = useState<'id' | 'popular'>('id');\n\n  const { user, login, signup } = useAuth();\n  const {\n    favorites,\n    fetchFavorites,\n    addFavorite,\n    removeFavorite,\n    getFavoriteId,\n    isFavorite,\n    clearFavorites,\n  } = useFavorites();\n\n  const {\n    cocktails,\n    totalPages,\n    totalCount,\n    error: cocktailsError,\n    isLoading,\n    debouncedQuery,\n    updateLocalCocktail,\n  } = useCocktailSearch({\n    query: q,\n    bases: selectedBases,\n    page: currentPage,\n    perPage: itemsPerPage,\n    sort,\n  });\n\n  // æ¤œç´¢æ¡ä»¶ãŒå¤‰ã‚ã‚‹ãŸã³ã«ãƒšãƒ¼ã‚¸ã‚’å…ˆé ­ã¸æˆ»ã—ã€APIãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ãƒªã‚»ãƒƒãƒˆã™ã‚‹\n  useEffect(() => {\n    setCurrentPage(1);\n  }, [debouncedQuery, selectedBases, sort]);\n\n  // ãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹ã«åˆã‚ã›ã¦ãŠæ°—ã«å…¥ã‚Šä¸€è¦§ã‚’åŒæœŸã™ã‚‹\n  useEffect(() => {\n    if (user) {\n      fetchFavorites();\n    } else {\n      clearFavorites();\n    }\n  }, [user, fetchFavorites, clearFavorites]);\n\n  // ã‚«ãƒ¼ãƒ‰ã‚¯ãƒªãƒƒã‚¯æ™‚ã«è©³ç´°ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã€ãƒ¢ãƒ¼ãƒ€ãƒ«ç”¨stateã¸æ ¼ç´ã™ã‚‹\n  const handleCocktailClick = async (cocktail: Cocktail) => {\n    try {\n      const detailedCocktail = await fetchCocktail(cocktail.id);\n      setSelectedCocktail(detailedCocktail);\n    } catch {\n      setSelectedCocktail(cocktail);\n    } finally {\n      setIsDialogOpen(true);\n    }\n  };\n\n  const handleCloseDialog = () => {\n    setIsDialogOpen(false);\n    setSelectedCocktail(null);\n  };\n\n  // ãƒ­ã‚°ã‚¤ãƒ³å¿…é ˆã®ãŸã‚æœªèªè¨¼ãªã‚‰Authãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’é–‹ãã€ãã‚Œä»¥å¤–ã¯APIå‘¼ã³å‡ºã—\n  const handleFavoriteToggle = async (cocktailId: number) => {\n    if (!user) {\n      setIsAuthOpen(true);\n      return;\n    }\n\n    const favorited = isFavorite(cocktailId);\n    if (favorited) {\n      const favoriteId = getFavoriteId(cocktailId);\n      if (favoriteId) {\n        await removeFavorite(favoriteId);\n      }\n    } else {\n      await addFavorite(cocktailId);\n    }\n  };\n\n  // ä¸€è¦§ã¨ãŠæ°—ã«å…¥ã‚Šã§ãƒšãƒ¼ã‚¸ãƒ³ã‚°ã‚’ç‹¬ç«‹ã•ã›ã‚‹\n  const handleTabChange = (value: string) => {\n    setActiveTab(value);\n    if (value === 'all') {\n      setCurrentPage(1);\n    } else {\n      setFavoritesPage(1);\n    }\n  };\n\n  // SortMenuã‹ã‚‰å—ã‘å–ã£ãŸå€¤ã‚’stateã«åæ˜ ã—ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼é–‹é–‰ã¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå´ã«ä»»ã›ã‚‹\n  const handleSortSelect = (value: 'id' | 'popular') => {\n    setSort(value);\n  };\n\n  const favoriteCocktails = favorites.map((favorite) => favorite.cocktail);\n  const favoritesTotal = favoriteCocktails.length;\n  const favoritesTotalPages = Math.ceil(favoritesTotal / itemsPerPage) || 1;\n  const favoritesPaginated = favoriteCocktails.slice(\n    (favoritesPage - 1) * itemsPerPage,\n    favoritesPage * itemsPerPage,\n  );\n\n  const itemListStructuredData =\n    cocktails && cocktails.length\n      ? {\n          '@context': 'https://schema.org',\n          '@type': 'ItemList',\n          itemListElement: cocktails\n            .slice(0, Math.min(10, cocktails.length))\n            .map((cocktail, index) => ({\n              '@type': 'ListItem',\n              position: index + 1,\n              url: absoluteUrl(`/cocktails/${cocktail.id}`),\n              name: cocktail.name_ja || cocktail.name,\n            })),\n        }\n      : undefined;\n\n  const homeStructuredData = itemListStructuredData\n    ? [HOME_WEBSITE_JSON_LD, itemListStructuredData]\n    : HOME_WEBSITE_JSON_LD;\n\n  return (\n    <>\n      <Seo\n        title=\"Today's Cocktail - ä»Šæ—¥ã®ä¸€æ¯ãŒè¦‹ã¤ã‹ã‚‹ã‚«ã‚¯ãƒ†ãƒ«å›³é‘‘\"\n        description=\"ãƒ™ãƒ¼ã‚¹é…’ã‚„å‘³ã‚ã„ã€äººæ°—é †ã§40ç¨®é¡ä»¥ä¸Šã®ã‚«ã‚¯ãƒ†ãƒ«ã‚’æ¤œç´¢ã€‚ä»Šæ—¥ã®ãŠã™ã™ã‚ã‚„ãŠæ°—ã«å…¥ã‚Šæ©Ÿèƒ½ã§ã€è‡ªåˆ†ã ã‘ã®ä¸€æ¯ã‚’è¦‹ã¤ã‘ã¾ã—ã‚‡ã†ã€‚\"\n        path=\"/\"\n        structuredData={homeStructuredData}\n      />\n      <div className=\"min-h-screen bg-gray-50 text-foreground\">\n        <div className=\"max-w-7xl mx-auto p-6\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-[320px_1fr] gap-6\">\n            <aside className=\"hidden lg:block lg:sticky lg:top-6 lg:h-fit\">\n              <Card className=\"bg-white border-gray-200\">\n                <CardContent className=\"pt-6\">\n                  <CocktailFilters\n                    searchQuery={q}\n                    onSearchChange={setQ}\n                    selectedBases={selectedBases}\n                    onBasesChange={setSelectedBases}\n                  />\n                </CardContent>\n              </Card>\n            </aside>\n\n            <main className=\"space-y-6\">\n              <div className=\"order-1\">\n                <TodaysPick onViewDetails={handleCocktailClick} />\n              </div>\n\n              <section className=\"space-y-4 order-2\">\n                <Tabs\n                  value={activeTab}\n                  onValueChange={handleTabChange}\n                  className=\"w-full\"\n                >\n                  <TabsList className=\"grid w-full max-w-md grid-cols-2\">\n                    <TabsTrigger\n                      value=\"all\"\n                      className=\"flex items-center gap-2\"\n                    >\n                      ã™ã¹ã¦ ({totalCount || 0})\n                    </TabsTrigger>\n                    <TabsTrigger\n                      value=\"favorites\"\n                      className=\"flex items-center gap-2\"\n                    >\n                      <Heart\n                        size={16}\n                        className={user ? 'fill-red-500 text-red-500' : ''}\n                      />\n                      ãŠæ°—ã«å…¥ã‚Š ({favorites.length})\n                    </TabsTrigger>\n                  </TabsList>\n\n                  <TabsContent value=\"all\" className=\"space-y-4 mt-6\">\n                    <CocktailGridSection\n                      cocktails={cocktails}\n                      totalCount={totalCount}\n                      isLoading={isLoading}\n                      error={cocktailsError}\n                      itemsPerPage={itemsPerPage}\n                      sortMenu={\n                        <SortMenu value={sort} onChange={handleSortSelect} />\n                      }\n                      onCardClick={handleCocktailClick}\n                      onFavoriteToggle={handleFavoriteToggle}\n                      isFavorite={isFavorite}\n                      currentPage={currentPage}\n                      totalPages={totalPages}\n                      onPageChange={setCurrentPage}\n                    />\n                  </TabsContent>\n\n                  <TabsContent value=\"favorites\" className=\"space-y-4 mt-6\">\n                    <FavoritesPanel\n                      isAuthenticated={Boolean(user)}\n                      favorites={favoriteCocktails}\n                      paginatedFavorites={favoritesPaginated}\n                      currentPage={favoritesPage}\n                      totalPages={favoritesTotalPages}\n                      onPageChange={setFavoritesPage}\n                      onRequireLogin={() => setIsAuthOpen(true)}\n                      onCardClick={handleCocktailClick}\n                      onFavoriteToggle={handleFavoriteToggle}\n                    />\n                  </TabsContent>\n                </Tabs>\n              </section>\n            </main>\n          </div>\n        </div>\n\n        <CocktailDetailDialog\n          cocktail={selectedCocktail}\n          isOpen={isDialogOpen}\n          onClose={handleCloseDialog}\n          isFavorite={\n            selectedCocktail ? isFavorite(selectedCocktail.id) : false\n          }\n          onToggleFavorite={handleFavoriteToggle}\n          onUpdate={(updatedCocktail) => {\n            updateLocalCocktail(updatedCocktail);\n            setSelectedCocktail(updatedCocktail);\n          }}\n        />\n\n        <Sheet open={isFilterOpen} onOpenChange={setIsFilterOpen}>\n          <SheetTrigger asChild>\n            <Button className=\"lg:hidden fixed bottom-32 right-6 w-14 h-14 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all z-50 p-0\">\n              <Search className=\"w-6 h-6\" />\n            </Button>\n          </SheetTrigger>\n          <SheetContent\n            side=\"left\"\n            className=\"w-[320px] sm:w-[380px] overflow-y-auto\"\n          >\n            <SheetHeader>\n              <SheetTitle className=\"text-lg font-semibold\">\n                æ¤œç´¢ãƒ»çµã‚Šè¾¼ã¿\n              </SheetTitle>\n            </SheetHeader>\n            <div className=\"mt-6\">\n              <CocktailFilters\n                searchQuery={q}\n                onSearchChange={setQ}\n                selectedBases={selectedBases}\n                onBasesChange={setSelectedBases}\n              />\n            </div>\n          </SheetContent>\n        </Sheet>\n\n        <AuthDialog\n          isOpen={isAuthOpen}\n          onClose={() => setIsAuthOpen(false)}\n          onLogin={login}\n          onSignup={signup}\n        />\n      </div>\n    </>\n  );\n}\n"],"names":["Sheet","SheetPrimitive.Root","SheetTrigger","SheetPrimitive.Trigger","SheetPortal","SheetPrimitive.Portal","SheetOverlay","React.forwardRef","className","props","ref","jsx","SheetPrimitive.Overlay","cn","sheetVariants","cva","SheetContent","side","children","jsxs","SheetPrimitive.Content","SheetPrimitive.Close","X","SheetHeader","SheetTitle","SheetPrimitive.Title","SheetDescription","SheetPrimitive.Description","API_BASE","strengthColors","TodaysPick","onViewDetails","cocktail","setCocktail","useState","error","setError","loading","setLoading","useEffect","cacheKey","cached","response","data","err","handleClick","Card","Sparkles","Skeleton","Badge","getStrengthLabel","getBaseLabel","getTechniqueLabel","Button","e","ArrowRight","ImageWithFallback","base","strength","technique","bases","CocktailFilters","searchQuery","onSearchChange","selectedBases","onBasesChange","tempSearchQuery","setTempSearchQuery","inputRef","useRef","searchInputId","useId","handleBaseToggle","baseValue","handleSearchChange","value","handleSearchSubmit","handleKeyDown","event","Input","Search","isSelected","Textarea","EditCocktailDialog","isOpen","onClose","onSuccess","formData","setFormData","isSubmitting","setIsSubmitting","handleSubmit","requestData","updatedCocktail","updateCocktail","Dialog","DialogContent","DialogHeader","DialogTitle","Label","DialogFooter","MAX_DRAG_DISTANCE","CLOSE_THRESHOLD","useSwipeToClose","scrollRef","dialogRef","touchStartRef","lastTouchRef","animationFrameRef","translateYRef","translateY","setTranslateY","isDragging","setIsDragging","getEasedDistance","useCallback","distance","progress","scheduleTranslate","handleTouchStart","handleTouchMove","currentTouch","resetGesture","handleTouchEnd","start","end","BASE_LABELS","STRENGTH_LABELS","TECHNIQUE_LABELS","BASE_STORIES","STRENGTH_STORIES","TECHNIQUE_STORIES","getProvidedText","trimmed","buildDefaultDescription","baseStory","strengthStory","techniqueStory","buildDefaultInstructions","glassLabel","baseLabel","CocktailDetailHeader","noteText","primaryName","secondaryName","isFavorite","isAdmin","onEditClick","onToggleFavorite","Wine","Hammer","Edit","Heart","CocktailDetailLeftColumn","GlassWater","Droplet","item","CocktailDetailRightColumn","instructionsText","ingredient","index","CocktailDetailDialog","onUpdate","isEditOpen","setIsEditOpen","currentCocktail","setCurrentCocktail","useAuth","handleTouchCancel","handleUpdateSuccess","useMemo","primary","secondary","Fragment","SortMenu","onChange","open","setOpen","menuRef","handleClickOutside","handleSelect","nextValue","prev","ChevronDown","SortMenuItem","active","label","onSelect","Check","FavoriteButton","isFavorited","onToggle","disabled","size","sizeClasses","iconSizes","strengthLabels","baseLabels","techniqueLabels","CocktailCard","onFavoriteToggle","showFavoriteButton","CardContent","Pagination","PaginationContent","PaginationItem","PaginationLink","isActive","buttonVariants","PaginationPrevious","ChevronLeft","PaginationNext","ChevronRight","PaginationEllipsis","MoreHorizontal","currentPage","totalPages","onPageChange","getPageNumbers","pages","i","PaginationRoot","page","CocktailGridSection","cocktails","totalCount","isLoading","itemsPerPage","sortMenu","onCardClick","showGrid","showEmptyState","_","FavoritesPanel","isAuthenticated","favorites","paginatedFavorites","onRequireLogin","LogIn","useFavorites","setFavorites","requireToken","token","message","toast","fetchFavorites","apiGet","addFavorite","cocktailId","favoriteData","apiPost","createdAt","fav","removeFavorite","favoriteId","apiDelete","getFavoriteId","clearFavorites","useDebounce","delay","debouncedValue","setDebouncedValue","timeoutId","useCocktailSearch","options","query","perPage","sort","setCocktails","setTotalPages","setTotalCount","setIsLoading","debouncedQuery","mounted","canUseSessionStorage","applyResponse","params","fetchCocktails","HOME_WEBSITE_JSON_LD","siteMetadata","useItemsPerPage","setItemsPerPage","handleResize","CocktailList","selectedCocktail","setSelectedCocktail","isDialogOpen","setIsDialogOpen","activeTab","setActiveTab","isAuthOpen","setIsAuthOpen","isFilterOpen","setIsFilterOpen","setCurrentPage","favoritesPage","setFavoritesPage","q","setQ","setSelectedBases","setSort","user","login","signup","cocktailsError","updateLocalCocktail","handleCocktailClick","detailedCocktail","fetchCocktail","handleCloseDialog","handleFavoriteToggle","handleTabChange","handleSortSelect","favoriteCocktails","favorite","favoritesTotal","favoritesTotalPages","favoritesPaginated","itemListStructuredData","absoluteUrl","homeStructuredData","Seo","Tabs","TabsList","TabsTrigger","TabsContent","AuthDialog"],"mappings":"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"}